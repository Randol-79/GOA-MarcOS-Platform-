<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOA Rentals - MarOS Management Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --goa-primary: #dc2626;
            --goa-secondary: #1e40af;
            --goa-dark: #0f172a;
            --goa-light: #f8fafc;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --sidebar-width: 260px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f1f5f9;
            color: #334155;
            height: 100vh;
            overflow: hidden;
        }

        /* Dashboard Layout */
        .dashboard-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--goa-dark);
            color: white;
            padding: 0;
            overflow-y: auto;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 24px;
            background: linear-gradient(135deg, var(--goa-primary), var(--goa-secondary));
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .sidebar-header p {
            font-size: 0.875rem;
            opacity: 0.9;
            margin-top: 4px;
        }

        .nav-menu {
            padding: 20px 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 14px 24px;
            color: #cbd5e1;
            text-decoration: none;
            transition: all 0.2s ease;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: 0.95rem;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }

        .nav-item.active {
            background: rgba(220, 38, 38, 0.15);
            color: white;
            border-left: 3px solid var(--goa-primary);
        }

        .nav-icon {
            margin-right: 12px;
            font-size: 1.2rem;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            background: #f1f5f9;
        }

        .content-header {
            background: white;
            padding: 24px 32px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .content-header h1 {
            font-size: 1.875rem;
            color: var(--goa-dark);
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .btn-primary {
            background: var(--goa-primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-primary:hover {
            background: #b91c1c;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
        }

        /* Content Sections */
        .content-section {
            display: none;
            padding: 32px;
        }

        .content-section.active {
            display: block;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .metric-card {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--goa-primary);
        }

        .metric-label {
            color: #64748b;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .metric-value {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--goa-dark);
            margin-bottom: 8px;
        }

        .metric-change {
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .metric-change.positive {
            color: var(--success);
        }

        .metric-change.negative {
            color: var(--danger);
        }

        /* Tables */
        .data-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .table-header {
            padding: 20px 24px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #f8fafc;
            padding: 12px 24px;
            text-align: left;
            font-weight: 600;
            color: #475569;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            padding: 16px 24px;
            border-top: 1px solid #e2e8f0;
        }

        tr:hover {
            background: #f8fafc;
        }

        /* Status Badges */
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-success {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-warning {
            background: #fed7aa;
            color: #92400e;
        }

        .badge-danger {
            background: #fee2e2;
            color: #991b1b;
        }

        /* Charts Container */
        .chart-container {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
        }

        .chart-header {
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }

        /* Agent Monitor */
        .agent-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .agent-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .agent-card.active {
            border-color: var(--success);
            background: #f0fdf4;
        }

        .agent-name {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--goa-dark);
        }

        .agent-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.875rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-dot.active {
            background: var(--success);
        }

        .status-dot.idle {
            background: var(--warning);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 32px;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e2e8f0;
        }

        .modal-close {
            float: right;
            font-size: 24px;
            cursor: pointer;
            color: #64748b;
        }

        /* Landing Page Preview */
        .landing-preview {
            width: 100%;
            height: 600px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
        }

        /* Mobile Menu Toggle */
        .mobile-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            background: var(--goa-primary);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .mobile-toggle {
                display: block;
            }

            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                height: 100%;
                transform: translateX(-100%);
                z-index: 99;
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <button class="mobile-toggle" onclick="toggleSidebar()">‚ò∞</button>
    
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>GOA MarOS</h2>
                <p>Management Dashboard</p>
            </div>
            <div class="nav-menu">
                <button class="nav-item active" onclick="showSection('overview')">
                    <span class="nav-icon">üìä</span> Overview
                </button>
                <button class="nav-item" onclick="showSection('kpis')">
                    <span class="nav-icon">üìà</span> KPI Analytics
                </button>
                <button class="nav-item" onclick="showSection('agents')">
                    <span class="nav-icon">ü§ñ</span> Agent Monitor
                </button>
                <button class="nav-item" onclick="showSection('sentiment')">
                    <span class="nav-icon">üí≠</span> Sentiment Analysis
                </button>
                <button class="nav-item" onclick="showSection('leads')">
                    <span class="nav-icon">üë•</span> Lead Management
                </button>
                <button class="nav-item" onclick="showSection('content')">
                    <span class="nav-icon">‚úçÔ∏è</span> Content Generator
                </button>
                <button class="nav-item" onclick="showSection('campaigns')">
                    <span class="nav-icon">üì¢</span> Campaigns
                </button>
                <button class="nav-item" onclick="showSection('equipment')">
                    <span class="nav-icon">üîß</span> Equipment Status
                </button>
                <button class="nav-item" onclick="openLandingPage()">
                    <span class="nav-icon">üåê</span> View Landing Page
                </button>
                <button class="nav-item" onclick="showSection('settings')">
                    <span class="nav-icon">‚öôÔ∏è</span> Settings
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Overview Section -->
            <div id="overview" class="content-section active">
                <div class="content-header">
                    <h1>Executive Overview</h1>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="exportReport()">üì• Export Report</button>
                        <button class="btn-primary" onclick="refreshData()">üîÑ Refresh</button>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div class="dashboard-grid">
                        <div class="metric-card" onclick="showMetricDetails('revenue')">
                            <div class="metric-label">Monthly Revenue</div>
                            <div class="metric-value">$847,293</div>
                            <div class="metric-change positive">
                                <span>‚Üë</span> 14.2% from last month
                            </div>
                        </div>
                        
                        <div class="metric-card" onclick="showMetricDetails('response')">
                            <div class="metric-label">Avg Response Time</div>
                            <div class="metric-value">42 min</div>
                            <div class="metric-change positive">
                                <span>‚Üì</span> 8 min improvement
                            </div>
                        </div>
                        
                        <div class="metric-card" onclick="showMetricDetails('utilization')">
                            <div class="metric-label">Fleet Utilization</div>
                            <div class="metric-value">87%</div>
                            <div class="metric-change positive">
                                <span>‚Üë</span> 5% this week
                            </div>
                        </div>
                        
                        <div class="metric-card" onclick="showMetricDetails('satisfaction')">
                            <div class="metric-label">Customer Satisfaction</div>
                            <div class="metric-value">4.8/5.0</div>
                            <div class="metric-change positive">
                                <span>‚Üë</span> 0.2 points
                            </div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Emergency Response Performance - Last 30 Days</h3>
                        </div>
                        <canvas id="performanceChart" style="height: 300px;"></canvas>
                    </div>

                    <div class="data-table">
                        <div class="table-header">
                            <h3>Recent Emergency Deployments</h3>
                            <button class="btn-primary" onclick="viewAllDeployments()">View All</button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Client</th>
                                    <th>Equipment</th>
                                    <th>Location</th>
                                    <th>Response</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>2:34 PM</td>
                                    <td>Turner Construction</td>
                                    <td>500kW Generator</td>
                                    <td>Lafayette</td>
                                    <td>38 min</td>
                                    <td><span class="badge badge-success">Deployed</span></td>
                                </tr>
                                <tr>
                                    <td>11:15 AM</td>
                                    <td>City of Broussard</td>
                                    <td>Submersible Pumps (4)</td>
                                    <td>Broussard</td>
                                    <td>45 min</td>
                                    <td><span class="badge badge-success">Active</span></td>
                                </tr>
                                <tr>
                                    <td>9:22 AM</td>
                                    <td>Chevron Facility</td>
                                    <td>Air Compressor 1600CFM</td>
                                    <td>New Iberia</td>
                                    <td>52 min</td>
                                    <td><span class="badge badge-warning">En Route</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- KPI Analytics Section -->
            <div id="kpis" class="content-section">
                <div class="content-header">
                    <h1>KPI Analytics</h1>
                    <div class="header-actions">
                        <select style="padding: 10px; border-radius: 6px; border: 1px solid #e2e8f0;">
                            <option>Last 30 Days</option>
                            <option>Last Quarter</option>
                            <option>Year to Date</option>
                        </select>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div class="dashboard-grid">
                        <div class="metric-card" onclick="showKPIDetails('conversion')">
                            <div class="metric-label">Conversion Rate</div>
                            <div class="metric-value">14.7%</div>
                            <div class="metric-change positive">‚Üë 2.3% this week</div>
                        </div>
                        
                        <div class="metric-card" onclick="showKPIDetails('cac')">
                            <div class="metric-label">Customer Acquisition Cost</div>
                            <div class="metric-value">$127</div>
                            <div class="metric-change positive">‚Üì $23 reduction</div>
                        </div>
                        
                        <div class="metric-card" onclick="showKPIDetails('ltv')">
                            <div class="metric-label">Customer Lifetime Value</div>
                            <div class="metric-value">$24,850</div>
                            <div class="metric-change positive">‚Üë $2,100 increase</div>
                        </div>
                        
                        <div class="metric-card" onclick="showKPIDetails('roi')">
                            <div class="metric-label">Marketing ROI</div>
                            <div class="metric-value">387%</div>
                            <div class="metric-change positive">‚Üë 42% improvement</div>
                        </div>
                        
                        <div class="metric-card" onclick="showKPIDetails('churn')">
                            <div class="metric-label">Churn Rate</div>
                            <div class="metric-value">2.1%</div>
                            <div class="metric-change positive">‚Üì 0.4% reduction</div>
                        </div>
                        
                        <div class="metric-card" onclick="showKPIDetails('nps')">
                            <div class="metric-label">Net Promoter Score</div>
                            <div class="metric-value">72</div>
                            <div class="metric-change positive">‚Üë 8 points</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Revenue vs Target - 2025</h3>
                            <button class="btn-primary" onclick="updateRevenueChart()">üîÑ Update</button>
                        </div>
                        <canvas id="revenueChart" style="height: 350px; display: none;"></canvas>
                        <div id="revenueChartDiv" style="position: relative; height: 350px;">
                            <svg id="revenueChartSvg" width="100%" height="100%" viewBox="0 0 800 350">
                                <!-- Chart Background -->
                                <rect width="800" height="350" fill="#f8fafc"/>
                                
                                <!-- Grid Lines -->
                                <g stroke="#e2e8f0" stroke-width="1">
                                    <line x1="60" y1="50" x2="60" y2="300"/>
                                    <line x1="60" y1="300" x2="740" y2="300"/>
                                    <!-- Horizontal grid lines -->
                                    <line x1="60" y1="250" x2="740" y2="250" stroke-dasharray="2,2" opacity="0.5"/>
                                    <line x1="60" y1="200" x2="740" y2="200" stroke-dasharray="2,2" opacity="0.5"/>
                                    <line x1="60" y1="150" x2="740" y2="150" stroke-dasharray="2,2" opacity="0.5"/>
                                    <line x1="60" y1="100" x2="740" y2="100" stroke-dasharray="2,2" opacity="0.5"/>
                                </g>
                                
                                <!-- Y-axis labels -->
                                <g font-size="12" fill="#64748b" text-anchor="end">
                                    <text x="50" y="305">$0</text>
                                    <text x="50" y="255">$200K</text>
                                    <text x="50" y="205">$400K</text>
                                    <text x="50" y="155">$600K</text>
                                    <text x="50" y="105">$800K</text>
                                    <text x="50" y="55">$1M</text>
                                </g>
                                
                                <!-- X-axis labels -->
                                <g font-size="12" fill="#64748b" text-anchor="middle">
                                    <text x="115" y="320">Jan</text>
                                    <text x="172" y="320">Feb</text>
                                    <text x="229" y="320">Mar</text>
                                    <text x="286" y="320">Apr</text>
                                    <text x="343" y="320">May</text>
                                    <text x="400" y="320">Jun</text>
                                    <text x="457" y="320">Jul</text>
                                    <text x="514" y="320">Aug</text>
                                    <text x="571" y="320">Sep</text>
                                    <text x="628" y="320">Oct</text>
                                    <text x="685" y="320">Nov</text>
                                    <text x="740" y="320">Dec</text>
                                </g>
                                
                                <!-- Target Line (dashed) -->
                                <polyline points="115,140 172,135 229,130 286,125 343,120 400,115 457,110 514,105 571,100 628,95 685,90 740,85" 
                                         fill="none" stroke="#dc2626" stroke-width="2" stroke-dasharray="5,5" opacity="0.7"/>
                                
                                <!-- Actual Revenue Line -->
                                <polyline points="115,165 172,155 229,145 286,138 343,125 400,118 457,108 514,95 571,88" 
                                         fill="none" stroke="#10b981" stroke-width="3"/>
                                
                                <!-- Data Points -->
                                <g fill="#10b981">
                                    <circle cx="115" cy="165" r="4" onclick="showMonthDetails('Jan', 723450)"/>
                                    <circle cx="172" cy="155" r="4" onclick="showMonthDetails('Feb', 756230)"/>
                                    <circle cx="229" cy="145" r="4" onclick="showMonthDetails('Mar', 789120)"/>
                                    <circle cx="286" cy="138" r="4" onclick="showMonthDetails('Apr', 812340)"/>
                                    <circle cx="343" cy="125" r="4" onclick="showMonthDetails('May', 845670)"/>
                                    <circle cx="400" cy="118" r="4" onclick="showMonthDetails('Jun', 867890)"/>
                                    <circle cx="457" cy="108" r="4" onclick="showMonthDetails('Jul', 892340)"/>
                                    <circle cx="514" cy="95" r="4" onclick="showMonthDetails('Aug', 923450)"/>
                                    <circle cx="571" cy="88" r="4" onclick="showMonthDetails('Sep', 847293)" fill="#dc2626"/>
                                </g>
                                
                                <!-- Legend -->
                                <g font-size="12">
                                    <rect x="600" y="20" width="15" height="3" fill="#10b981"/>
                                    <text x="620" y="24" fill="#64748b">Actual Revenue</text>
                                    <rect x="600" y="35" width="15" height="3" fill="#dc2626"/>
                                    <text x="620" y="39" fill="#64748b">Target Revenue</text>
                                </g>
                                
                                <!-- Current Month Indicator -->
                                <line x1="571" y1="50" x2="571" y2="300" stroke="#dc2626" stroke-width="1" stroke-dasharray="2,2" opacity="0.5"/>
                                <text x="571" y="45" font-size="10" fill="#dc2626" text-anchor="middle">Current</text>
                            </svg>
                            
                            <!-- Interactive Tooltip -->
                            <div id="chartTooltip" style="display: none; position: absolute; background: white; padding: 10px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.15); font-size: 12px;">
                                <div id="tooltipContent"></div>
                            </div>
                        </div>
                        
                        <!-- Revenue Statistics -->
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-top: 20px;">
                            <div style="background: #f8fafc; padding: 12px; border-radius: 8px; cursor: pointer;" onclick="showRevenueMetric('ytd')">
                                <div style="color: #64748b; font-size: 0.875rem;">YTD Revenue</div>
                                <div style="font-size: 1.5rem; font-weight: 600; color: #10b981;">$7.43M</div>
                                <div style="font-size: 0.75rem; color: #10b981;">‚Üë 14.2% vs target</div>
                            </div>
                            <div style="background: #f8fafc; padding: 12px; border-radius: 8px; cursor: pointer;" onclick="showRevenueMetric('qtd')">
                                <div style="color: #64748b; font-size: 0.875rem;">Q3 Revenue</div>
                                <div style="font-size: 1.5rem; font-weight: 600; color: #10b981;">$2.66M</div>
                                <div style="font-size: 0.75rem; color: #10b981;">‚Üë 8.7% vs Q2</div>
                            </div>
                            <div style="background: #f8fafc; padding: 12px; border-radius: 8px; cursor: pointer;" onclick="showRevenueMetric('mtd')">
                                <div style="color: #64748b; font-size: 0.875rem;">MTD Revenue</div>
                                <div style="font-size: 1.5rem; font-weight: 600; color: #dc2626;">$847K</div>
                                <div style="font-size: 0.75rem; color: #dc2626;">‚Üì 2.3% vs target</div>
                            </div>
                            <div style="background: #f8fafc; padding: 12px; border-radius: 8px; cursor: pointer;" onclick="showRevenueMetric('forecast')">
                                <div style="color: #64748b; font-size: 0.875rem;">Year-End Forecast</div>
                                <div style="font-size: 1.5rem; font-weight: 600; color: #1e40af;">$11.2M</div>
                                <div style="font-size: 0.75rem; color: #1e40af;">118% of target</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Monitor Section -->
            <div id="agents" class="content-section">
                <div class="content-header">
                    <h1>Agent Monitor</h1>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="configureAgents()">Configure Agents</button>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div class="agent-grid">
                        <div class="agent-card active" onclick="showAgentDetails('response', 147)" style="cursor: pointer;">
                            <div class="agent-name">ü§ñ Response Agent</div>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span onclick="showAgentMetric('response-interactions', 147)" style="cursor: pointer; text-decoration: underline;">Active - 147 interactions today</span>
                            </div>
                            <div style="margin-top: 12px; font-size: 0.875rem; color: #64748b;">
                                Last action: <span onclick="showLastAction('response')" style="cursor: pointer; text-decoration: underline;">Responded to review 3 min ago</span>
                            </div>
                        </div>
                        
                        <div class="agent-card active" onclick="showAgentDetails('content', 23)" style="cursor: pointer;">
                            <div class="agent-name">‚úçÔ∏è Content Agent</div>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span onclick="showAgentMetric('content-posts', 23)" style="cursor: pointer; text-decoration: underline;">Active - 23 posts created</span>
                            </div>
                            <div style="margin-top: 12px; font-size: 0.875rem; color: #64748b;">
                                Next scheduled: <span onclick="showSchedule('content')" style="cursor: pointer; text-decoration: underline;">4:00 PM</span>
                            </div>
                        </div>
                        
                        <div class="agent-card active" onclick="showAgentDetails('ad', 3847)" style="cursor: pointer;">
                            <div class="agent-name">üì¢ Ad Agent</div>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span onclick="showAgentMetric('ad-spend', 3847)" style="cursor: pointer; text-decoration: underline;">Active - $3,847 spent today</span>
                            </div>
                            <div style="margin-top: 12px; font-size: 0.875rem; color: #64748b;">
                                <span onclick="showCTRDetails(4.2)" style="cursor: pointer; text-decoration: underline;">CTR: 4.2%</span> | <span onclick="showCPCDetails(1.23)" style="cursor: pointer; text-decoration: underline;">CPC: $1.23</span>
                            </div>
                        </div>
                        
                        <div class="agent-card" onclick="showAgentDetails('optimization', 0)" style="cursor: pointer;">
                            <div class="agent-name">üìä Optimization Agent</div>
                            <div class="agent-status">
                                <span class="status-dot idle"></span>
                                <span onclick="showOptimizationSchedule()" style="cursor: pointer; text-decoration: underline;">Idle - Next run at midnight</span>
                            </div>
                            <div style="margin-top: 12px; font-size: 0.875rem; color: #64748b;">
                                Last optimization: <span onclick="showLastOptimization(6)" style="cursor: pointer; text-decoration: underline;">6 hours ago</span>
                            </div>
                        </div>
                        
                        <div class="agent-card active" onclick="showAgentDetails('chat', 12)" style="cursor: pointer;">
                            <div class="agent-name">üí¨ Chat Agent</div>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span onclick="showAgentMetric('chat-conversations', 12)" style="cursor: pointer; text-decoration: underline;">Active - 12 conversations</span>
                            </div>
                            <div style="margin-top: 12px; font-size: 0.875rem; color: #64748b;">
                                Avg resolution: <span onclick="showResolutionDetails(4.2)" style="cursor: pointer; text-decoration: underline;">4.2 minutes</span>
                            </div>
                        </div>
                        
                        <div class="agent-card active" onclick="showAgentDetails('crm', 231)" style="cursor: pointer;">
                            <div class="agent-name">üîÑ CRM Sync Agent</div>
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span onclick="showAgentMetric('crm-records', 231)" style="cursor: pointer; text-decoration: underline;">Active - 231 records synced</span>
                            </div>
                            <div style="margin-top: 12px; font-size: 0.875rem; color: #64748b;">
                                Last sync: <span onclick="showSyncDetails()" style="cursor: pointer; text-decoration: underline;">30 seconds ago</span>
                            </div>
                        </div>
                    </div>

                    <div class="chart-container" style="margin-top: 32px;">
                        <div class="chart-header">
                            <h3>Agent Performance Metrics</h3>
                            <button class="btn-primary" onclick="viewDetailedMetrics()">View Detailed Metrics</button>
                        </div>
                        <table style="width: 100%;">
                            <thead>
                                <tr>
                                    <th>Agent</th>
                                    <th onclick="showUptimeDetails()" style="cursor: pointer; text-decoration: underline;">Uptime</th>
                                    <th onclick="showTaskDetails()" style="cursor: pointer; text-decoration: underline;">Tasks Completed</th>
                                    <th onclick="showSuccessRateDetails()" style="cursor: pointer; text-decoration: underline;">Success Rate</th>
                                    <th onclick="showProcessingTimeDetails()" style="cursor: pointer; text-decoration: underline;">Avg Processing Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr onclick="showAgentPerformance('response')" style="cursor: pointer;">
                                    <td>Response Agent</td>
                                    <td>99.8%</td>
                                    <td>1,247</td>
                                    <td>98.2%</td>
                                    <td>1.2s</td>
                                </tr>
                                <tr onclick="showAgentPerformance('content')" style="cursor: pointer;">
                                    <td>Content Agent</td>
                                    <td>100%</td>
                                    <td>423</td>
                                    <td>100%</td>
                                    <td>8.4s</td>
                                </tr>
                                <tr onclick="showAgentPerformance('chat')" style="cursor: pointer;">
                                    <td>Chat Agent</td>
                                    <td>99.9%</td>
                                    <td>892</td>
                                    <td>94.3%</td>
                                    <td>252s</td>
                                </tr>
                                <tr onclick="showAgentPerformance('ad')" style="cursor: pointer;">
                                    <td>Ad Agent</td>
                                    <td>99.5%</td>
                                    <td>3,847</td>
                                    <td>96.8%</td>
                                    <td>0.8s</td>
                                </tr>
                                <tr onclick="showAgentPerformance('optimization')" style="cursor: pointer;">
                                    <td>Optimization Agent</td>
                                    <td>100%</td>
                                    <td>48</td>
                                    <td>100%</td>
                                    <td>342s</td>
                                </tr>
                                <tr onclick="showAgentPerformance('crm')" style="cursor: pointer;">
                                    <td>CRM Sync Agent</td>
                                    <td>99.9%</td>
                                    <td>8,924</td>
                                    <td>99.7%</td>
                                    <td>2.1s</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Sentiment Analysis Section -->
            <div id="sentiment" class="content-section">
                <div class="content-header">
                    <h1>Sentiment Analysis</h1>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="exportSentimentReport()">Export Report</button>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Overall Sentiment Score</h3>
                        </div>
                        <div style="background: #f8fafc; padding: 24px; border-radius: 8px; margin: 20px 0;">
                            <div style="font-size: 3rem; font-weight: 700; color: var(--success); text-align: center;">
                                75%
                            </div>
                            <div style="text-align: center; color: #64748b; margin-top: 8px;">
                                Positive Sentiment (Based on 847 interactions)
                            </div>
                            <div style="height: 20px; background: #e2e8f0; border-radius: 10px; margin-top: 20px; overflow: hidden;">
                                <div style="width: 75%; height: 100%; background: linear-gradient(90deg, #10b981, #34d399);"></div>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="data-table">
                            <div class="table-header">
                                <h3>Positive Triggers</h3>
                            </div>
                            <table>
                                <tbody>
                                    <tr>
                                        <td>"Fast response"</td>
                                        <td>234 mentions</td>
                                    </tr>
                                    <tr>
                                        <td>"Professional service"</td>
                                        <td>189 mentions</td>
                                    </tr>
                                    <tr>
                                        <td>"Saved our project"</td>
                                        <td>147 mentions</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="data-table">
                            <div class="table-header">
                                <h3>Areas for Improvement</h3>
                            </div>
                            <table>
                                <tbody>
                                    <tr>
                                        <td>"Pricing clarity"</td>
                                        <td>42 mentions</td>
                                    </tr>
                                    <tr>
                                        <td>"Equipment availability"</td>
                                        <td>31 mentions</td>
                                    </tr>
                                    <tr>
                                        <td>"Documentation process"</td>
                                        <td>18 mentions</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Lead Management Section -->
            <div id="leads" class="content-section">
                <div class="content-header">
                    <h1>Lead Management</h1>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="addLead()">+ New Lead</button>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div class="dashboard-grid">
                        <div class="metric-card">
                            <div class="metric-label">Active Leads</div>
                            <div class="metric-value">231</div>
                            <div class="metric-change positive">‚Üë 28 this week</div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-label">Qualified Leads</div>
                            <div class="metric-value">89</div>
                            <div class="metric-change positive">‚Üë 12 this week</div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-label">Conversion Pipeline</div>
                            <div class="metric-value">$2.4M</div>
                            <div class="metric-change positive">‚Üë $340K added</div>
                        </div>
                    </div>

                    <div class="data-table">
                        <div class="table-header">
                            <h3>Recent Leads</h3>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Lead</th>
                                    <th>Company</th>
                                    <th>Source</th>
                                    <th>Value</th>
                                    <th>Stage</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>John Martinez</td>
                                    <td>Acme Construction</td>
                                    <td>Landing Page</td>
                                    <td>$45,000</td>
                                    <td><span class="badge badge-warning">Qualifying</span></td>
                                    <td><button onclick="viewLead(1)">View</button></td>
                                </tr>
                                <tr>
                                    <td>Sarah Chen</td>
                                    <td>City of Lafayette</td>
                                    <td>Referral</td>
                                    <td>$127,000</td>
                                    <td><span class="badge badge-success">Negotiation</span></td>
                                    <td><button onclick="viewLead(2)">View</button></td>
                                </tr>
                                <tr>
                                    <td>Mike Thompson</td>
                                    <td>Offshore Services LLC</td>
                                    <td>PPC Campaign</td>
                                    <td>$89,000</td>
                                    <td><span class="badge badge-warning">Discovery</span></td>
                                    <td><button onclick="viewLead(3)">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Content Generator Section -->
            <div id="content" class="content-section">
                <div class="content-header">
                    <h1>Content Generator</h1>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="scheduleContent()">üìÖ Schedule Posts</button>
                        <button class="btn-primary" onclick="viewContentCalendar()">üìÜ Content Calendar</button>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div class="dashboard-grid">
                        <div class="metric-card" onclick="showContentMetric('generated')">
                            <div class="metric-label">Content Generated Today</div>
                            <div class="metric-value">23</div>
                            <div class="metric-change positive">‚Üë 5 from yesterday</div>
                        </div>
                        
                        <div class="metric-card" onclick="showContentMetric('scheduled')">
                            <div class="metric-label">Scheduled Posts</div>
                            <div class="metric-value">47</div>
                            <div class="metric-change">Next: 4:00 PM</div>
                        </div>
                        
                        <div class="metric-card" onclick="showContentMetric('engagement')">
                            <div class="metric-label">Avg Engagement Rate</div>
                            <div class="metric-value">6.8%</div>
                            <div class="metric-change positive">‚Üë 1.2% this week</div>
                        </div>
                    </div>

                    <div style="background: white; padding: 24px; border-radius: 12px; margin-top: 24px;">
                        <h3 style="margin-bottom: 20px;">Generate New Content</h3>
                        <div style="display: flex; gap: 12px; margin-bottom: 20px;">
                            <button class="btn-primary" onclick="generateAIContent('social')">Social Post</button>
                            <button class="btn-primary" onclick="generateAIContent('email')">Email Campaign</button>
                            <button class="btn-primary" onclick="generateAIContent('blog')">Blog Article</button>
                            <button class="btn-primary" onclick="generateAIContent('ad')">Ad Copy</button>
                            <button class="btn-primary" style="background: linear-gradient(135deg, #667eea, #764ba2);" onclick="generateSentimentVisual()">üé® Sentiment Visual</button>
                        </div>
                        <div id="generatedContent" style="background: #f8fafc; padding: 20px; border-radius: 8px; min-height: 200px;">
                            <p style="color: #64748b;">Select a content type to generate AI-powered content...</p>
                        </div>
                    </div>
                    
                    <!-- Sentiment-Based Visual Generator -->
                    <div id="sentimentVisualGenerator" style="display: none; background: white; padding: 24px; border-radius: 12px; margin-top: 24px;">
                        <h3 style="margin-bottom: 20px;">üé® Sentiment-Based Visual Content Generator</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div>
                                <h4>Current Sentiment Analysis</h4>
                                <div style="background: linear-gradient(135deg, #10b981, #34d399); padding: 20px; border-radius: 8px; color: white; margin: 10px 0;">
                                    <div style="font-size: 2.5rem; font-weight: 700;">75%</div>
                                    <div>Positive Sentiment</div>
                                </div>
                                <div style="background: #f8fafc; padding: 15px; border-radius: 8px;">
                                    <h5 style="margin-bottom: 10px;">Top Positive Themes:</h5>
                                    <ul style="color: #10b981;">
                                        <li>"Fast response" - 234 mentions</li>
                                        <li>"Professional service" - 189 mentions</li>
                                        <li>"Saved our project" - 147 mentions</li>
                                    </ul>
                                </div>
                            </div>
                            <div>
                                <h4>Generated Visual Content</h4>
                                <div id="visualPreview" style="background: linear-gradient(135deg, #0f172a, #1e293b); padding: 30px; border-radius: 8px; color: white; text-align: center; position: relative; min-height: 300px;">
                                    <div style="position: absolute; top: 20px; right: 20px; background: #10b981; padding: 5px 10px; border-radius: 20px; font-size: 12px;">
                                        TRENDING UP
                                    </div>
                                    <div style="margin-top: 30px;">
                                        <div style="font-size: 4rem; font-weight: 800; background: linear-gradient(45deg, #10b981, #34d399); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                                            75%
                                        </div>
                                        <div style="font-size: 1.5rem; margin: 20px 0; font-weight: 300;">
                                            of our customers say we
                                        </div>
                                        <div style="font-size: 2rem; font-weight: 700; color: #f59e0b;">
                                            "SAVED THEIR PROJECT"
                                        </div>
                                        <div style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 8px;">
                                            <div style="font-size: 1.1rem; margin-bottom: 10px;">
                                                ‚ö° 45-minute average response
                                            </div>
                                            <div style="font-size: 1.1rem; margin-bottom: 10px;">
                                                üîß 24/7 emergency service
                                            </div>
                                            <div style="font-size: 1.1rem;">
                                                üë∑ Expert engineers included
                                            </div>
                                        </div>
                                        <div style="margin-top: 30px; font-size: 1.5rem; font-weight: 700;">
                                            GOA RENTALS
                                        </div>
                                        <div style="font-size: 0.9rem; opacity: 0.8;">
                                            1-800-GOA-FAST
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 10px; margin-top: 15px;">
                                    <button class="btn-primary" onclick="generateVisualVariant('positive')">Positive Theme</button>
                                    <button class="btn-primary" onclick="generateVisualVariant('urgent')">Urgency Theme</button>
                                    <button class="btn-primary" onclick="generateVisualVariant('trust')">Trust Theme</button>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 20px; padding: 20px; background: #f8fafc; border-radius: 8px;">
                            <h4>Visual Content Specs</h4>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 10px;">
                                <div style="text-align: center; padding: 10px; background: white; border-radius: 6px; cursor: pointer;" onclick="setVisualFormat('instagram')">
                                    <div>üì± Instagram</div>
                                    <div style="font-size: 0.8rem; color: #64748b;">1080x1080</div>
                                </div>
                                <div style="text-align: center; padding: 10px; background: white; border-radius: 6px; cursor: pointer;" onclick="setVisualFormat('facebook')">
                                    <div>üìò Facebook</div>
                                    <div style="font-size: 0.8rem; color: #64748b;">1200x630</div>
                                </div>
                                <div style="text-align: center; padding: 10px; background: white; border-radius: 6px; cursor: pointer;" onclick="setVisualFormat('linkedin')">
                                    <div>üíº LinkedIn</div>
                                    <div style="font-size: 0.8rem; color: #64748b;">1200x627</div>
                                </div>
                                <div style="text-align: center; padding: 10px; background: white; border-radius: 6px; cursor: pointer;" onclick="setVisualFormat('stories')">
                                    <div>üì∏ Stories</div>
                                    <div style="font-size: 0.8rem; color: #64748b;">1080x1920</div>
                                </div>
                            </div>
                            <div style="margin-top: 20px; display: flex; gap: 10px;">
                                <button class="btn-primary" style="flex: 1;" onclick="downloadVisual()">üì• Download Visual</button>
                                <button class="btn-primary" style="flex: 1;" onclick="scheduleVisual()">üìÖ Schedule Post</button>
                                <button class="btn-primary" style="flex: 1;" onclick="saveToLibrary()">üíæ Save to Library</button>
                            </div>
                        </div>
                    </div>

                    <div class="data-table" style="margin-top: 24px;">
                        <div class="table-header">
                            <h3>Recent Generated Content</h3>
                            <button class="btn-primary" onclick="viewAllContent()">View All</button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Type</th>
                                    <th>Platform</th>
                                    <th>Persona</th>
                                    <th>Performance</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Social</td>
                                    <td>LinkedIn</td>
                                    <td>Construction</td>
                                    <td><span class="badge badge-success">8.2% CTR</span></td>
                                    <td><button onclick="editContent(1)">Edit</button> <button onclick="viewContentDetails(1)">View</button></td>
                                </tr>
                                <tr>
                                    <td>Email</td>
                                    <td>Campaign</td>
                                    <td>Municipal</td>
                                    <td><span class="badge badge-success">42% Open</span></td>
                                    <td><button onclick="editContent(2)">Edit</button> <button onclick="viewContentDetails(2)">View</button></td>
                                </tr>
                                <tr>
                                    <td>Ad</td>
                                    <td>Google</td>
                                    <td>Oil & Gas</td>
                                    <td><span class="badge badge-warning">3.1% CTR</span></td>
                                    <td><button onclick="editContent(3)">Edit</button> <button onclick="viewContentDetails(3)">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Campaigns Section -->
            <div id="campaigns" class="content-section">
                <div class="content-header">
                    <h1>Campaign Management</h1>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="createCampaign()">+ New Campaign</button>
                        <button class="btn-primary" onclick="viewCampaignTemplates()">Templates</button>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div class="dashboard-grid">
                        <div class="metric-card" onclick="showCampaignMetric('active')">
                            <div class="metric-label">Active Campaigns</div>
                            <div class="metric-value">12</div>
                            <div class="metric-change positive">‚Üë 3 this month</div>
                        </div>
                        
                        <div class="metric-card" onclick="showCampaignMetric('budget')">
                            <div class="metric-label">Total Ad Spend</div>
                            <div class="metric-value">$18,947</div>
                            <div class="metric-change">67% of budget</div>
                        </div>
                        
                        <div class="metric-card" onclick="showCampaignMetric('conversions')">
                            <div class="metric-label">Campaign Conversions</div>
                            <div class="metric-value">342</div>
                            <div class="metric-change positive">‚Üë 47 this week</div>
                        </div>
                        
                        <div class="metric-card" onclick="showCampaignMetric('cpc')">
                            <div class="metric-label">Average CPC</div>
                            <div class="metric-value">$1.23</div>
                            <div class="metric-change positive">‚Üì $0.18 reduction</div>
                        </div>
                    </div>

                    <div class="data-table">
                        <div class="table-header">
                            <h3>Active Campaigns</h3>
                            <button class="btn-primary" onclick="viewAllCampaigns()">View All</button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Campaign</th>
                                    <th>Channel</th>
                                    <th>Budget</th>
                                    <th>Spend</th>
                                    <th>Conversions</th>
                                    <th>CPA</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Emergency Response Q3</td>
                                    <td>Google Ads</td>
                                    <td>$5,000</td>
                                    <td>$3,847</td>
                                    <td>127</td>
                                    <td>$30.29</td>
                                    <td><span class="badge badge-success">Active</span></td>
                                    <td><button onclick="viewCampaign(1)">View</button> <button onclick="pauseCampaign(1)">Pause</button></td>
                                </tr>
                                <tr>
                                    <td>Hurricane Season Prep</td>
                                    <td>Facebook</td>
                                    <td>$3,000</td>
                                    <td>$2,134</td>
                                    <td>89</td>
                                    <td>$23.98</td>
                                    <td><span class="badge badge-success">Active</span></td>
                                    <td><button onclick="viewCampaign(2)">View</button> <button onclick="pauseCampaign(2)">Pause</button></td>
                                </tr>
                                <tr>
                                    <td>Municipal Services</td>
                                    <td>LinkedIn</td>
                                    <td>$2,000</td>
                                    <td>$1,456</td>
                                    <td>42</td>
                                    <td>$34.67</td>
                                    <td><span class="badge badge-success">Active</span></td>
                                    <td><button onclick="viewCampaign(3)">View</button> <button onclick="pauseCampaign(3)">Pause</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Equipment Status Section -->
            <div id="equipment" class="content-section">
                <div class="content-header">
                    <h1>Equipment Status</h1>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="addEquipment()">+ Add Equipment</button>
                        <button class="btn-primary" onclick="scheduleMaintenace()">üîß Schedule Maintenance</button>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div class="dashboard-grid">
                        <div class="metric-card" onclick="showEquipmentMetric('total')">
                            <div class="metric-label">Total Fleet Size</div>
                            <div class="metric-value">347</div>
                            <div class="metric-change positive">‚Üë 12 units added</div>
                        </div>
                        
                        <div class="metric-card" onclick="showEquipmentMetric('deployed')">
                            <div class="metric-label">Currently Deployed</div>
                            <div class="metric-value">302</div>
                            <div class="metric-change">87% utilization</div>
                        </div>
                        
                        <div class="metric-card" onclick="showEquipmentMetric('maintenance')">
                            <div class="metric-label">In Maintenance</div>
                            <div class="metric-value">18</div>
                            <div class="metric-change negative">‚Üë 3 units</div>
                        </div>
                        
                        <div class="metric-card" onclick="showEquipmentMetric('available')">
                            <div class="metric-label">Available Now</div>
                            <div class="metric-value">27</div>
                            <div class="metric-change">Ready to deploy</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Equipment by Category</h3>
                        </div>
                        <table style="width: 100%;">
                            <thead>
                                <tr>
                                    <th>Category</th>
                                    <th>Total</th>
                                    <th>Deployed</th>
                                    <th>Available</th>
                                    <th>Maintenance</th>
                                    <th>Utilization</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr onclick="viewEquipmentCategory('generators')">
                                    <td>Generators</td>
                                    <td>57</td>
                                    <td>51</td>
                                    <td>4</td>
                                    <td>2</td>
                                    <td><span class="badge badge-success">89.5%</span></td>
                                    <td><button onclick="viewEquipmentList('generators')">View All</button></td>
                                </tr>
                                <tr onclick="viewEquipmentCategory('pumps')">
                                    <td>Pumps</td>
                                    <td>84</td>
                                    <td>72</td>
                                    <td>8</td>
                                    <td>4</td>
                                    <td><span class="badge badge-success">85.7%</span></td>
                                    <td><button onclick="viewEquipmentList('pumps')">View All</button></td>
                                </tr>
                                <tr onclick="viewEquipmentCategory('compressors')">
                                    <td>Air Compressors</td>
                                    <td>42</td>
                                    <td>38</td>
                                    <td>3</td>
                                    <td>1</td>
                                    <td><span class="badge badge-success">90.5%</span></td>
                                    <td><button onclick="viewEquipmentList('compressors')">View All</button></td>
                                </tr>
                                <tr onclick="viewEquipmentCategory('towers')">
                                    <td>Light Towers</td>
                                    <td>28</td>
                                    <td>24</td>
                                    <td>3</td>
                                    <td>1</td>
                                    <td><span class="badge badge-success">85.7%</span></td>
                                    <td><button onclick="viewEquipmentList('towers')">View All</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="data-table" style="margin-top: 24px;">
                        <div class="table-header">
                            <h3>Recent Deployments</h3>
                            <button class="btn-primary" onclick="viewDeploymentHistory()">View History</button>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Equipment ID</th>
                                    <th>Type</th>
                                    <th>Client</th>
                                    <th>Location</th>
                                    <th>Deployed</th>
                                    <th>Return Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GEN-0457</td>
                                    <td>500kW Generator</td>
                                    <td>Turner Construction</td>
                                    <td>Lafayette</td>
                                    <td>Sept 15, 2:34 PM</td>
                                    <td>Sept 22</td>
                                    <td><button onclick="viewDeployment(1)">Details</button></td>
                                </tr>
                                <tr>
                                    <td>PMP-0823</td>
                                    <td>Submersible Pump</td>
                                    <td>City of Broussard</td>
                                    <td>Broussard</td>
                                    <td>Sept 15, 11:15 AM</td>
                                    <td>Sept 18</td>
                                    <td><button onclick="viewDeployment(2)">Details</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settings" class="content-section">
                <div class="content-header">
                    <h1>System Settings</h1>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="saveSettings()">üíæ Save Changes</button>
                    </div>
                </div>

                <div style="padding: 32px;">
                    <div style="background: white; padding: 24px; border-radius: 12px; margin-bottom: 24px;">
                        <h3 style="margin-bottom: 20px;">Agent Configuration</h3>
                        <div style="display: grid; gap: 16px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8fafc; border-radius: 8px;">
                                <span>Response Agent Auto-Reply</span>
                                <button onclick="toggleSetting('response')" style="background: var(--success); color: white; border: none; padding: 6px 12px; border-radius: 4px;">Enabled</button>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8fafc; border-radius: 8px;">
                                <span>Content Generation Frequency</span>
                                <select style="padding: 6px 12px; border: 1px solid #e2e8f0; border-radius: 4px;">
                                    <option>Every 2 hours</option>
                                    <option>Every 4 hours</option>
                                    <option>Daily</option>
                                </select>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #f8fafc; border-radius: 8px;">
                                <span>Sentiment Alert Threshold</span>
                                <input type="number" value="40" style="width: 80px; padding: 6px; border: 1px solid #e2e8f0; border-radius: 4px;">
                            </div>
                        </div>
                    </div>

                    <div style="background: white; padding: 24px; border-radius: 12px; margin-bottom: 24px;">
                        <h3 style="margin-bottom: 20px;">Integration Settings</h3>
                        <table style="width: 100%;">
                            <tr>
                                <td>CRM System</td>
                                <td>GoHighLevel</td>
                                <td><span class="badge badge-success">Connected</span></td>
                                <td><button onclick="configureIntegration('crm')">Configure</button></td>
                            </tr>
                            <tr>
                                <td>Email Platform</td>
                                <td>SendGrid</td>
                                <td><span class="badge badge-success">Connected</span></td>
                                <td><button onclick="configureIntegration('email')">Configure</button></td>
                            </tr>
                            <tr>
                                <td>Analytics</td>
                                <td>Google Analytics 4</td>
                                <td><span class="badge badge-success">Connected</span></td>
                                <td><button onclick="configureIntegration('analytics')">Configure</button></td>
                            </tr>
                            <tr>
                                <td>Chat System</td>
                                <td>Chatwoot</td>
                                <td><span class="badge badge-warning">Reconnect</span></td>
                                <td><button onclick="configureIntegration('chat')">Configure</button></td>
                            </tr>
                        </table>
                    </div>

                    <div style="background: white; padding: 24px; border-radius: 12px;">
                        <h3 style="margin-bottom: 20px;">Notification Settings</h3>
                        <div style="display: grid; gap: 12px;">
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" checked> Emergency deployment alerts
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" checked> Sentiment threshold alerts
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" checked> Equipment maintenance reminders
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox"> Daily performance summary
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Metric Details Modal -->
    <div id="metricModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <h2 id="modalTitle">Metric Details</h2>
            </div>
            <div id="modalBody">
                <!-- Dynamic content -->
            </div>
        </div>
    </div>

    <!-- Landing Page (Hidden, separate from dashboard) -->
    <div id="landingPage" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 2000; overflow-y: auto;">
        <button onclick="closeLandingPage()" style="position: fixed; top: 20px; right: 20px; z-index: 2001; background: var(--goa-primary); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
            ‚Üê Back to Dashboard
        </button>
        
        <div style="background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); color: white; padding: 100px 20px 60px; text-align: center;">
            <h1 style="font-size: 3.5rem; margin-bottom: 20px; font-weight: 800;">GOA RENTALS</h1>
            <p style="font-size: 1.75rem; margin-bottom: 10px; color: #f59e0b;">When Emergency Strikes, We Respond</p>
            <p style="font-size: 1.25rem; opacity: 0.9;">24/7 Equipment Rentals ‚Ä¢ Local Engineers ‚Ä¢ Rapid Response</p>
            
            <div style="margin-top: 40px; display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
                <button style="background: var(--goa-primary); color: white; border: none; padding: 18px 36px; font-size: 1.125rem; border-radius: 8px; cursor: pointer; font-weight: 600;">
                    üìû Call 1-800-GOA-FAST
                </button>
                <button style="background: transparent; color: white; border: 2px solid white; padding: 18px 36px; font-size: 1.125rem; border-radius: 8px; cursor: pointer; font-weight: 600;">
                    Request Emergency Service
                </button>
            </div>
        </div>

        <div style="padding: 60px 20px; max-width: 1200px; margin: 0 auto;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-bottom: 60px;">
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 10px;">‚ö°</div>
                    <h3 style="color: var(--goa-dark); margin-bottom: 10px;">Under 1 Hour Response</h3>
                    <p style="color: #64748b;">Fastest emergency deployment in Louisiana</p>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 10px;">üë∑</div>
                    <h3 style="color: var(--goa-dark); margin-bottom: 10px;">Expert Engineers</h3>
                    <p style="color: #64748b;">Certified technicians arrive with equipment</p>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 10px;">üîß</div>
                    <h3 style="color: var(--goa-dark); margin-bottom: 10px;">Complete Fleet</h3>
                    <p style="color: #64748b;">Generators, pumps, compressors & more</p>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 3rem; margin-bottom: 10px;">üìû</div>
                    <h3 style="color: var(--goa-dark); margin-bottom: 10px;">24/7/365 Service</h3>
                    <p style="color: #64748b;">Always available when disaster strikes</p>
                </div>
            </div>

            <div style="background: #f8fafc; padding: 40px; border-radius: 12px; text-align: center;">
                <h2 style="color: var(--goa-dark); margin-bottom: 20px;">Trusted by Louisiana's Leading Companies</h2>
                <p style="color: #64748b; font-size: 1.125rem; margin-bottom: 30px;">
                    "GOA had boots on the ground within 45 minutes. Their rapid response saved our project from a complete shutdown. The engineers they sent knew exactly what we needed."
                </p>
                <p style="color: var(--goa-primary); font-weight: 600;">‚Äî Site Manager, Turner Construction</p>
            </div>
        </div>
    </div>

    <script>
        // State Management
        let currentSection = 'overview';
        let sidebarOpen = false;

        // Section Navigation
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
            
            currentSection = sectionId;
            
            // Close mobile sidebar
            if (window.innerWidth <= 768) {
                toggleSidebar();
            }
        }

        // Landing Page Functions
        function openLandingPage() {
            document.getElementById('landingPage').style.display = 'block';
        }

        function closeLandingPage() {
            document.getElementById('landingPage').style.display = 'none';
        }

        // Modal Functions
        function showMetricDetails(metric) {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            const details = {
                revenue: {
                    title: 'Monthly Revenue Details',
                    content: `
                        <h3>Revenue Breakdown - September 2025</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr><td>Emergency Rentals</td><td style="text-align: right;">$523,450</td></tr>
                            <tr><td>Scheduled Rentals</td><td style="text-align: right;">$198,230</td></tr>
                            <tr><td>Service & Maintenance</td><td style="text-align: right;">$87,413</td></tr>
                            <tr><td>Equipment Sales</td><td style="text-align: right;">$38,200</td></tr>
                            <tr style="border-top: 2px solid #e2e8f0;">
                                <td><strong>Total</strong></td>
                                <td style="text-align: right;"><strong>$847,293</strong></td>
                            </tr>
                        </table>
                        <div style="margin-top: 20px;">
                            <p><strong>Top Clients:</strong></p>
                            <ul style="margin-top: 10px;">
                                <li>Turner Construction - $145,200</li>
                                <li>City of Lafayette - $98,500</li>
                                <li>Chevron Facility - $76,300</li>
                            </ul>
                        </div>
                    `
                },
                response: {
                    title: 'Response Time Analysis',
                    content: `
                        <h3>Average Response Time - Last 30 Days</h3>
                        <div style="margin-top: 20px;">
                            <p><strong>Current Average:</strong> 42 minutes</p>
                            <p><strong>Best Response:</strong> 18 minutes (Sept 8)</p>
                            <p><strong>Target:</strong> Under 45 minutes</p>
                        </div>
                        <h4 style="margin-top: 30px;">Response by Location:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Lafayette</td><td style="text-align: right;">38 min avg</td></tr>
                            <tr><td>Broussard</td><td style="text-align: right;">41 min avg</td></tr>
                            <tr><td>New Iberia</td><td style="text-align: right;">47 min avg</td></tr>
                            <tr><td>Crowley</td><td style="text-align: right;">52 min avg</td></tr>
                        </table>
                    `
                },
                utilization: {
                    title: 'Fleet Utilization Report',
                    content: `
                        <h3>Equipment Utilization - Current</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <thead>
                                <tr>
                                    <th>Equipment Type</th>
                                    <th>Total Units</th>
                                    <th>In Use</th>
                                    <th>Utilization</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Generators (20-500kW)</td><td>45</td><td>41</td><td>91%</td></tr>
                                <tr><td>Generators (500kW+)</td><td>12</td><td>10</td><td>83%</td></tr>
                                <tr><td>Submersible Pumps</td><td>28</td><td>24</td><td>86%</td></tr>
                                <tr><td>Air Compressors</td><td>32</td><td>27</td><td>84%</td></tr>
                                <tr><td>Light Towers</td><td>18</td><td>16</td><td>89%</td></tr>
                            </tbody>
                        </table>
                        <p style="margin-top: 20px;"><strong>Peak Utilization:</strong> 94% (Sept 3, Hurricane prep)</p>
                    `
                },
                satisfaction: {
                    title: 'Customer Satisfaction Metrics',
                    content: `
                        <h3>Customer Satisfaction Score</h3>
                        <div style="text-align: center; margin: 30px 0;">
                            <div style="font-size: 4rem; color: var(--success);">4.8</div>
                            <div>out of 5.0</div>
                            <div style="color: #64748b;">Based on 231 reviews</div>
                        </div>
                        <h4>Breakdown by Category:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Response Time</td><td style="text-align: right;">4.9 ‚≠ê</td></tr>
                            <tr><td>Equipment Quality</td><td style="text-align: right;">4.8 ‚≠ê</td></tr>
                            <tr><td>Technical Support</td><td style="text-align: right;">4.9 ‚≠ê</td></tr>
                            <tr><td>Pricing</td><td style="text-align: right;">4.5 ‚≠ê</td></tr>
                            <tr><td>Documentation</td><td style="text-align: right;">4.6 ‚≠ê</td></tr>
                        </table>
                    `
                }
            };
            
            modalTitle.textContent = details[metric].title;
            modalBody.innerHTML = details[metric].content;
            modal.classList.add('active');
        }

        function showKPIDetails(kpi) {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            const kpiDetails = {
                conversion: {
                    title: 'Conversion Rate Analysis',
                    content: `
                        <h3>Conversion Funnel - Last 30 Days</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr><td>Website Visitors</td><td style="text-align: right;">8,472</td></tr>
                            <tr><td>Leads Generated</td><td style="text-align: right;">1,245 (14.7%)</td></tr>
                            <tr><td>Qualified Leads</td><td style="text-align: right;">486 (39%)</td></tr>
                            <tr><td>Opportunities</td><td style="text-align: right;">198 (40.7%)</td></tr>
                            <tr><td>Closed Won</td><td style="text-align: right;">89 (44.9%)</td></tr>
                        </table>
                        <p style="margin-top: 20px;"><strong>Top Converting Sources:</strong></p>
                        <ul>
                            <li>Direct/Referral: 22.3%</li>
                            <li>PPC Campaigns: 18.4%</li>
                            <li>Organic Search: 12.1%</li>
                        </ul>
                    `
                },
                cac: {
                    title: 'Customer Acquisition Cost',
                    content: `
                        <h3>CAC Breakdown - Current Month</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr><td>Marketing Spend</td><td style="text-align: right;">$8,234</td></tr>
                            <tr><td>Sales Costs</td><td style="text-align: right;">$2,876</td></tr>
                            <tr><td>Technology/Tools</td><td style="text-align: right;">$423</td></tr>
                            <tr style="border-top: 2px solid #e2e8f0;">
                                <td><strong>Total Costs</strong></td>
                                <td style="text-align: right;"><strong>$11,533</strong></td>
                            </tr>
                        </table>
                        <p style="margin-top: 20px;">
                            <strong>New Customers Acquired:</strong> 91<br>
                            <strong>CAC:</strong> $127 per customer<br>
                            <strong>Payback Period:</strong> 2.3 months
                        </p>
                    `
                },
                ltv: {
                    title: 'Customer Lifetime Value',
                    content: `
                        <h3>LTV Analysis</h3>
                        <div style="margin-top: 20px;">
                            <p><strong>Average Customer Lifetime:</strong> 4.2 years</p>
                            <p><strong>Average Annual Value:</strong> $5,917</p>
                            <p><strong>Total LTV:</strong> $24,850</p>
                        </div>
                        <h4 style="margin-top: 30px;">LTV by Customer Segment:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Enterprise</td><td style="text-align: right;">$87,400</td></tr>
                            <tr><td>Municipal</td><td style="text-align: right;">$45,200</td></tr>
                            <tr><td>Construction</td><td style="text-align: right;">$31,800</td></tr>
                            <tr><td>Small Business</td><td style="text-align: right;">$12,400</td></tr>
                        </table>
                        <p style="margin-top: 20px;"><strong>LTV:CAC Ratio:</strong> 195:1 (Excellent)</p>
                    `
                },
                roi: {
                    title: 'Marketing ROI Details',
                    content: `
                        <h3>Marketing ROI - September 2025</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <thead>
                                <tr>
                                    <th>Channel</th>
                                    <th>Spend</th>
                                    <th>Revenue</th>
                                    <th>ROI</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>PPC</td><td>$3,847</td><td>$18,234</td><td>374%</td></tr>
                                <tr><td>SEO</td><td>$1,200</td><td>$8,450</td><td>604%</td></tr>
                                <tr><td>Social Media</td><td>$2,100</td><td>$7,823</td><td>272%</td></tr>
                                <tr><td>Email</td><td>$450</td><td>$4,234</td><td>841%</td></tr>
                                <tr style="border-top: 2px solid #e2e8f0;">
                                    <td><strong>Total</strong></td>
                                    <td><strong>$7,597</strong></td>
                                    <td><strong>$38,741</strong></td>
                                    <td><strong>387%</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    `
                }
            };
            
            if (kpiDetails[kpi]) {
                modalTitle.textContent = kpiDetails[kpi].title;
                modalBody.innerHTML = kpiDetails[kpi].content;
                modal.classList.add('active');
            }
        }

        function closeModal() {
            document.getElementById('metricModal').classList.remove('active');
        }

        // Action Functions
        function exportReport() {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Executive Report Generation';
            modalBody.innerHTML = `
                <h3>Report Generated Successfully</h3>
                <div style="margin-top: 20px;">
                    <p><strong>Report Contents:</strong></p>
                    <ul style="margin: 10px 0;">
                        <li>Revenue Analysis: $847,293 MTD</li>
                        <li>Response Time: 42 min average</li>
                        <li>Fleet Utilization: 87%</li>
                        <li>Customer Satisfaction: 4.8/5.0</li>
                        <li>Active Leads: 231</li>
                        <li>Sentiment Score: 75% positive</li>
                    </ul>
                    <p><strong>File Name:</strong> GOA_Executive_Report_Sept_2025.pdf</p>
                    <p><strong>File Size:</strong> 2.4 MB</p>
                    <button class="btn-primary" style="margin-top: 20px;">Download PDF</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function refreshData() {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Data Refresh Status';
            modalBody.innerHTML = `
                <h3>Syncing All Data Sources</h3>
                <div style="margin-top: 20px;">
                    <table style="width: 100%;">
                        <tr><td>CRM System (GoHighLevel)</td><td style="text-align: right;">‚úÖ Synced - 231 records</td></tr>
                        <tr><td>Analytics Platform</td><td style="text-align: right;">‚úÖ Updated - 8,472 events</td></tr>
                        <tr><td>Equipment Database</td><td style="text-align: right;">‚úÖ Current - 347 units</td></tr>
                        <tr><td>Marketing Channels</td><td style="text-align: right;">‚úÖ Connected - 12 campaigns</td></tr>
                        <tr><td>Sentiment Engine</td><td style="text-align: right;">‚úÖ Active - 847 interactions</td></tr>
                    </table>
                    <p style="margin-top: 20px; color: var(--success);"><strong>Last Sync:</strong> Sept 15, 2025 - 3:47 PM</p>
                    <p><strong>Next Auto-Sync:</strong> In 13 minutes</p>
                </div>
            `;
            modal.classList.add('active');
        }

        function viewAllDeployments() {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Deployment History - September 2025';
            modalBody.innerHTML = `
                <h3>847 Total Deployments</h3>
                <div style="margin-top: 20px;">
                    <table style="width: 100%;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 8px;">Week</th>
                                <th style="padding: 8px;">Deployments</th>
                                <th style="padding: 8px;">Avg Response</th>
                                <th style="padding: 8px;">Success Rate</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Week 1</td><td>186</td><td>44 min</td><td>98.2%</td></tr>
                            <tr><td>Week 2</td><td>234</td><td>41 min</td><td>99.1%</td></tr>
                            <tr><td>Week 3</td><td>289</td><td>39 min</td><td>98.9%</td></tr>
                            <tr><td>Week 4 (Current)</td><td>138</td><td>42 min</td><td>98.5%</td></tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 20px;"><strong>Top Equipment Deployed:</strong></p>
                    <ul>
                        <li>Generators: 342 deployments</li>
                        <li>Pumps: 267 deployments</li>
                        <li>Air Compressors: 148 deployments</li>
                        <li>Light Towers: 90 deployments</li>
                    </ul>
                </div>
            `;
            modal.classList.add('active');
        }

        function configureAgents() {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Agent Configuration Panel';
            modalBody.innerHTML = `
                <h3>AI Agent Settings</h3>
                <div style="margin-top: 20px;">
                    <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                        <h4>ü§ñ Response Agent</h4>
                        <p>Status: <span style="color: var(--success);">Active</span></p>
                        <p>Daily Interactions: 147</p>
                        <p>Response Time: 1.2 seconds</p>
                        <label><input type="checkbox" checked> Auto-respond to reviews</label>
                    </div>
                    <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                        <h4>‚úçÔ∏è Content Agent</h4>
                        <p>Status: <span style="color: var(--success);">Active</span></p>
                        <p>Posts Created Today: 23</p>
                        <p>Next Scheduled: 4:00 PM</p>
                        <label><input type="checkbox" checked> Auto-generate content</label>
                    </div>
                    <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 12px;">
                        <h4>üì¢ Ad Agent</h4>
                        <p>Status: <span style="color: var(--success);">Active</span></p>
                        <p>Daily Budget: $3,847</p>
                        <p>Current CPC: $1.23</p>
                        <label><input type="checkbox" checked> Auto-optimize bids</label>
                    </div>
                </div>
            `;
            modal.classList.add('active');
        }

        function exportSentimentReport() {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Sentiment Analysis Report Export';
            modalBody.innerHTML = `
                <h3>Comprehensive Sentiment Report</h3>
                <div style="margin-top: 20px;">
                    <div style="background: #f0fdf4; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <h4 style="color: var(--success);">75% Positive Sentiment</h4>
                        <p>Based on 847 total interactions this month</p>
                    </div>
                    <h4>Sentiment Breakdown:</h4>
                    <table style="width: 100%; margin: 10px 0;">
                        <tr><td>Very Positive</td><td>342 interactions</td><td>40.4%</td></tr>
                        <tr><td>Positive</td><td>292 interactions</td><td>34.5%</td></tr>
                        <tr><td>Neutral</td><td>126 interactions</td><td>14.9%</td></tr>
                        <tr><td>Negative</td><td>87 interactions</td><td>10.3%</td></tr>
                    </table>
                    <h4 style="margin-top: 20px;">Top Positive Keywords:</h4>
                    <ul>
                        <li>"Fast response" - 234 mentions</li>
                        <li>"Professional service" - 189 mentions</li>
                        <li>"Saved our project" - 147 mentions</li>
                        <li>"Excellent support" - 122 mentions</li>
                    </ul>
                    <button class="btn-primary" style="margin-top: 20px;">Export Full Report</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function addLead() {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Add New Lead';
            modalBody.innerHTML = `
                <h3>Lead Information Form</h3>
                <div style="margin-top: 20px;">
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px;">Contact Name</label>
                        <input type="text" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 4px;" placeholder="John Smith">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px;">Company</label>
                        <input type="text" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 4px;" placeholder="ABC Construction">
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px;">Equipment Needs</label>
                        <select style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 4px;">
                            <option>Generators</option>
                            <option>Pumps</option>
                            <option>Air Compressors</option>
                            <option>Multiple Equipment</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px;">Urgency Level</label>
                        <select style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 4px;">
                            <option>Emergency (Within 1 hour)</option>
                            <option>Urgent (Same day)</option>
                            <option>Standard (Within 48 hours)</option>
                            <option>Planning (Future project)</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px;">Estimated Value</label>
                        <input type="text" style="width: 100%; padding: 8px; border: 1px solid #e2e8f0; border-radius: 4px;" placeholder="$45,000">
                    </div>
                    <button class="btn-primary" style="width: 100%;">Create Lead & Send to CRM</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function viewLead(id) {
            const leads = {
                1: { name: 'John Martinez', company: 'Acme Construction', value: '$45,000', stage: 'Qualifying' },
                2: { name: 'Sarah Chen', company: 'City of Lafayette', value: '$127,000', stage: 'Negotiation' },
                3: { name: 'Mike Thompson', company: 'Offshore Services LLC', value: '$89,000', stage: 'Discovery' }
            };
            
            const lead = leads[id] || leads[1];
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = `Lead Details - ${lead.name}`;
            modalBody.innerHTML = `
                <h3>${lead.company}</h3>
                <div style="margin-top: 20px;">
                    <table style="width: 100%;">
                        <tr><td><strong>Contact:</strong></td><td>${lead.name}</td></tr>
                        <tr><td><strong>Company:</strong></td><td>${lead.company}</td></tr>
                        <tr><td><strong>Potential Value:</strong></td><td>${lead.value}</td></tr>
                        <tr><td><strong>Current Stage:</strong></td><td>${lead.stage}</td></tr>
                        <tr><td><strong>Probability:</strong></td><td>75%</td></tr>
                        <tr><td><strong>Expected Close:</strong></td><td>Sept 22, 2025</td></tr>
                    </table>
                    <h4 style="margin-top: 20px;">Activity History:</h4>
                    <ul>
                        <li>Sept 15, 2:30 PM - Initial contact via landing page</li>
                        <li>Sept 15, 2:45 PM - Email sent with equipment catalog</li>
                        <li>Sept 15, 3:15 PM - Phone call scheduled for tomorrow</li>
                    </ul>
                    <h4 style="margin-top: 20px;">Equipment Needs:</h4>
                    <ul>
                        <li>2x 500kW Generators</li>
                        <li>4x Submersible Pumps</li>
                        <li>Emergency response within 1 hour</li>
                    </ul>
                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                        <button class="btn-primary">Call Now</button>
                        <button class="btn-primary">Send Proposal</button>
                        <button class="btn-primary">Schedule Meeting</button>
                    </div>
                </div>
            `;
            modal.classList.add('active');
        }

        // Content Generator Functions
        function scheduleContent() {
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Content Scheduling';
            modalBody.innerHTML = `
                <h3>Schedule New Content</h3>
                <div style="margin-top: 20px;">
                    <h4>Upcoming Schedule:</h4>
                    <table style="width: 100%; margin-top: 10px;">
                        <tr><td>4:00 PM</td><td>LinkedIn</td><td>Construction Safety Post</td></tr>
                        <tr><td>6:00 PM</td><td>Facebook</td><td>Emergency Response Story</td></tr>
                        <tr><td>8:00 PM</td><td>Email</td><td>Weekly Newsletter</td></tr>
                        <tr><td>Tomorrow 9:00 AM</td><td>Twitter</td><td>Equipment Tip</td></tr>
                    </table>
                    <div style="margin-top: 20px;">
                        <label>Platform:</label>
                        <select style="width: 100%; padding: 8px; margin: 10px 0;">
                            <option>LinkedIn</option>
                            <option>Facebook</option>
                            <option>Twitter</option>
                            <option>Email</option>
                        </select>
                        <label>Schedule Time:</label>
                        <input type="datetime-local" style="width: 100%; padding: 8px; margin: 10px 0;">
                        <button class="btn-primary" style="width: 100%;">Add to Schedule</button>
                    </div>
                </div>
            `;
            modal.classList.add('active');
        }

        function viewContentCalendar() {
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Content Calendar - September 2025';
            modalBody.innerHTML = `
                <h3>Weekly Content Overview</h3>
                <div style="margin-top: 20px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8fafc;">
                                <th style="padding: 10px; text-align: left;">Day</th>
                                <th style="padding: 10px;">Posts</th>
                                <th style="padding: 10px;">Engagement</th>
                                <th style="padding: 10px;">Best Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Monday</td><td>5 posts</td><td>7.2%</td><td>9:00 AM</td></tr>
                            <tr><td>Tuesday</td><td>4 posts</td><td>6.8%</td><td>2:00 PM</td></tr>
                            <tr><td>Wednesday</td><td>6 posts</td><td>8.1%</td><td>11:00 AM</td></tr>
                            <tr><td>Thursday</td><td>4 posts</td><td>6.5%</td><td>4:00 PM</td></tr>
                            <tr><td>Friday</td><td>3 posts</td><td>5.9%</td><td>10:00 AM</td></tr>
                        </tbody>
                    </table>
                    <h4 style="margin-top: 20px;">Content Performance This Month:</h4>
                    <ul>
                        <li>Total Posts: 423</li>
                        <li>Average Engagement: 6.8%</li>
                        <li>Best Performing: Emergency Response Stories</li>
                        <li>Top Platform: LinkedIn (8.2% engagement)</li>
                    </ul>
                </div>
            `;
            modal.classList.add('active');
        }

        function showContentMetric(type) {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            const metrics = {
                generated: {
                    title: 'Content Generation Details',
                    content: `
                        <h3>23 Pieces Generated Today</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr><td>Social Media Posts</td><td>12</td></tr>
                            <tr><td>Email Campaigns</td><td>4</td></tr>
                            <tr><td>Blog Articles</td><td>2</td></tr>
                            <tr><td>Ad Copy Variations</td><td>5</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">Top Performing Content:</h4>
                        <ul>
                            <li>"Emergency Generator Delivery" - 1,247 views</li>
                            <li>"Hurricane Prep Checklist" - 892 views</li>
                            <li>"24/7 Response Team" - 634 views</li>
                        </ul>
                    `
                },
                scheduled: {
                    title: 'Scheduled Posts Overview',
                    content: `
                        <h3>47 Posts Scheduled</h3>
                        <h4>Next 7 Days:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Today</td><td>8 posts</td></tr>
                            <tr><td>Tomorrow</td><td>7 posts</td></tr>
                            <tr><td>Sept 17</td><td>6 posts</td></tr>
                            <tr><td>Sept 18</td><td>7 posts</td></tr>
                            <tr><td>Sept 19</td><td>6 posts</td></tr>
                            <tr><td>Sept 20</td><td>5 posts</td></tr>
                            <tr><td>Sept 21</td><td>8 posts</td></tr>
                        </table>
                        <p style="margin-top: 20px;"><strong>Next Post:</strong> 4:00 PM - LinkedIn</p>
                        <p>"When equipment fails, every minute counts. GOA responds in under 45 minutes."</p>
                    `
                },
                engagement: {
                    title: 'Engagement Analytics',
                    content: `
                        <h3>6.8% Average Engagement Rate</h3>
                        <h4 style="margin-top: 20px;">By Platform:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>LinkedIn</td><td>8.2%</td><td>‚Üë 1.3%</td></tr>
                            <tr><td>Facebook</td><td>6.4%</td><td>‚Üë 0.8%</td></tr>
                            <tr><td>Twitter</td><td>5.8%</td><td>‚Üì 0.2%</td></tr>
                            <tr><td>Email</td><td>42.3% open</td><td>‚Üë 4.1%</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">Top Engaging Topics:</h4>
                        <ul>
                            <li>Emergency Response: 9.2% engagement</li>
                            <li>Equipment Tips: 7.8% engagement</li>
                            <li>Customer Success: 7.1% engagement</li>
                        </ul>
                    `
                }
            };
            
            modalTitle.textContent = metrics[type].title;
            modalBody.innerHTML = metrics[type].content;
            modal.classList.add('active');
        }

        function generateAIContent(type) {
            const contentTemplates = {
                social: `üö® EMERGENCY READY 24/7\n\nWhen disaster strikes, GOA Rentals responds in under 45 minutes.\n\n‚úÖ 500+ pieces of equipment ready NOW\n‚úÖ Expert engineers included\n‚úÖ No hidden fees, transparent pricing\n\nDon't wait for an emergency. Save our hotline: 1-800-GOA-FAST\n\n#EmergencyResponse #EquipmentRental #Lafayette #247Service`,
                email: `Subject: Is Your Business Ready for the Next Emergency?\n\nDear [Name],\n\nLast week, Turner Construction faced a complete power failure that could have shut down their $2M project.\n\nWithin 38 minutes, our team had a 500kW generator on-site and running.\n\nThe result? Zero downtime. Zero delays. Project saved.\n\nThis is what we do every day at GOA Rentals. We're not just an equipment rental company ‚Äì we're your emergency response partner.\n\nOur promise to you:\n‚Ä¢ Response in under 1 hour\n‚Ä¢ Expert engineers with every delivery\n‚Ä¢ 24/7/365 availability\n‚Ä¢ Transparent, competitive pricing\n\nDon't wait for an emergency to strike. Let's discuss your contingency plan today.\n\nCall 1-800-GOA-FAST or reply to this email.\n\nStay prepared,\nThe GOA Team`,
                blog: `Title: "5 Minutes That Saved a Million Dollar Project"\n\nIntro:\nIt was 2:34 AM when the call came in. The main generator at a critical offshore platform had failed, putting a $1.2M daily operation at risk. This is the story of how rapid response made all the difference.\n\nKey Points:\n1. The Critical First Hour\n   - Why response time matters\n   - Cost of downtime analysis\n   \n2. Our Response Protocol\n   - 24/7 dispatch center\n   - Pre-positioned equipment\n   - Expert engineers on standby\n   \n3. The Deployment\n   - Equipment loaded in 15 minutes\n   - On-site in 38 minutes\n   - Operational in under 1 hour\n   \n4. Results\n   - Zero production loss\n   - Project timeline maintained\n   - Client relationship strengthened\n   \nConclusion:\nWhen emergencies strike, preparation and speed make the difference between disaster and success. GOA Rentals: Always Ready, Always There.`,
                ad: `Headline: Equipment Down? We're Up in 45 Min.\n\nDescription: 24/7 emergency equipment rental with expert engineers. Generators, pumps, compressors ready NOW. Lafayette's fastest response team.\n\nCall-to-Action: Get Emergency Equipment ‚Üí\n\n---\n\nAlternative Version:\n\nHeadline: Don't Let Equipment Failure Stop You\n\nDescription: GOA Rentals - 500+ rental units ready for immediate delivery. Local engineers. Transparent pricing. Call 1-800-GOA-FAST.\n\nCall-to-Action: Call Now for Fast Response ‚Üí`
            };
            
            document.getElementById('generatedContent').innerHTML = `
                <h4 style="color: var(--goa-primary); margin-bottom: 10px;">Generated ${type.charAt(0).toUpperCase() + type.slice(1)} Content:</h4>
                <pre style="white-space: pre-wrap; font-family: inherit; margin: 0;">${contentTemplates[type]}</pre>
                <div style="margin-top: 20px; display: flex; gap: 10px;">
                    <button class="btn-primary" onclick="alert('Content copied to clipboard!')">üìã Copy</button>
                    <button class="btn-primary" onclick="alert('Content scheduled for posting!')">üìÖ Schedule</button>
                    <button class="btn-primary" onclick="generateAIContent('${type}')">üîÑ Regenerate</button>
                </div>
            `;
        }

        function viewAllContent() {
            alert('Content Library\n\nTotal Content Pieces: 1,847\n\nBy Type:\n‚Ä¢ Social Posts: 892\n‚Ä¢ Email Campaigns: 234\n‚Ä¢ Blog Articles: 67\n‚Ä¢ Ad Variations: 654\n\nOpening full content library...');
        }

        function editContent(id) {
            alert(`Content Editor\n\nEditing Content #${id}\n\nPlatform: LinkedIn\nScheduled: Today 4:00 PM\nPersona: Construction Manager\n\nContent editable in rich text editor with AI suggestions`);
        }

        function viewContentDetails(id) {
            const contents = {
                1: { type: 'Social', platform: 'LinkedIn', performance: '8.2% CTR' },
                2: { type: 'Email', platform: 'Campaign', performance: '42% Open Rate' },
                3: { type: 'Ad', platform: 'Google', performance: '3.1% CTR' }
            };
            
            const content = contents[id] || contents[1];
            alert(`Content Details\n\nType: ${content.type}\nPlatform: ${content.platform}\nPerformance: ${content.performance}\n\nViews: 1,247\nClicks: 102\nConversions: 8\nROI: 342%`);
        }

        // Campaign Functions
        function createCampaign() {
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Create New Campaign';
            modalBody.innerHTML = `
                <h3>Campaign Setup</h3>
                <div style="margin-top: 20px;">
                    <input type="text" placeholder="Campaign Name" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <select style="width: 100%; padding: 10px; margin-bottom: 10px;">
                        <option>Google Ads</option>
                        <option>Facebook Ads</option>
                        <option>LinkedIn Ads</option>
                        <option>Email Campaign</option>
                    </select>
                    <input type="number" placeholder="Budget ($)" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <input type="date" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <textarea placeholder="Campaign Goals" style="width: 100%; padding: 10px; height: 100px;"></textarea>
                    <button class="btn-primary" style="width: 100%; margin-top: 10px;">Launch Campaign</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function viewCampaignTemplates() {
            alert('Campaign Templates\n\n‚Ä¢ Emergency Response Campaign\n‚Ä¢ Seasonal Hurricane Prep\n‚Ä¢ Municipal Services Outreach\n‚Ä¢ Construction Industry Focus\n‚Ä¢ Oil & Gas Platform Support\n\nEach template includes:\n- Pre-written ad copy\n- Targeting parameters\n- Budget recommendations\n- Performance benchmarks');
        }

        function showCampaignMetric(type) {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            const campaignMetrics = {
                active: {
                    title: 'Active Campaigns Overview',
                    content: `
                        <h3>12 Active Campaigns</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr style="background: #f8fafc;">
                                <th style="padding: 8px;">Campaign</th>
                                <th style="padding: 8px;">Status</th>
                                <th style="padding: 8px;">Performance</th>
                            </tr>
                            <tr><td>Emergency Response Q3</td><td>üü¢ Active</td><td>127 conversions</td></tr>
                            <tr><td>Hurricane Season Prep</td><td>üü¢ Active</td><td>89 conversions</td></tr>
                            <tr><td>Municipal Services</td><td>üü¢ Active</td><td>42 conversions</td></tr>
                            <tr><td>Construction Focus</td><td>üü¢ Active</td><td>67 conversions</td></tr>
                            <tr><td>24/7 Awareness</td><td>üü¢ Active</td><td>54 conversions</td></tr>
                        </table>
                    `
                },
                budget: {
                    title: 'Ad Spend Analysis',
                    content: `
                        <h3>$18,947 Total Spend (67% of Budget)</h3>
                        <h4 style="margin-top: 20px;">Spend by Channel:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Google Ads</td><td>$8,234</td><td>43.5%</td></tr>
                            <tr><td>Facebook</td><td>$5,123</td><td>27.0%</td></tr>
                            <tr><td>LinkedIn</td><td>$3,456</td><td>18.2%</td></tr>
                            <tr><td>Email</td><td>$2,134</td><td>11.3%</td></tr>
                        </table>
                        <p style="margin-top: 20px;"><strong>Remaining Budget:</strong> $9,253</p>
                        <p><strong>Daily Spend Rate:</strong> $631.57</p>
                        <p><strong>Projected Month End:</strong> $28,421 (95% of budget)</p>
                    `
                },
                conversions: {
                    title: 'Conversion Analytics',
                    content: `
                        <h3>342 Total Conversions</h3>
                        <h4 style="margin-top: 20px;">Conversion Funnel:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Ad Impressions</td><td>487,234</td></tr>
                            <tr><td>Clicks</td><td>15,847</td></tr>
                            <tr><td>Landing Page Views</td><td>14,234</td></tr>
                            <tr><td>Form Fills</td><td>892</td></tr>
                            <tr><td>Qualified Leads</td><td>342</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">By Campaign:</h4>
                        <ul>
                            <li>Emergency Response: 127 conversions</li>
                            <li>Hurricane Prep: 89 conversions</li>
                            <li>Municipal: 42 conversions</li>
                            <li>Construction: 84 conversions</li>
                        </ul>
                    `
                }
            };
            
            if (campaignMetrics[type]) {
                modalTitle.textContent = campaignMetrics[type].title;
                modalBody.innerHTML = campaignMetrics[type].content;
                modal.classList.add('active');
            }
        }

        function viewCampaign(id) {
            alert(`Campaign Details #${id}\n\nEmergency Response Q3\nPlatform: Google Ads\nBudget: $5,000\nSpent: $3,847 (77%)\n\nPerformance:\n‚Ä¢ Impressions: 142,387\n‚Ä¢ Clicks: 4,721 (3.3% CTR)\n‚Ä¢ Conversions: 127\n‚Ä¢ CPA: $30.29\n‚Ä¢ ROI: 412%\n\nTop Keywords:\n‚Ä¢ "emergency generator rental"\n‚Ä¢ "24 hour equipment rental"\n‚Ä¢ "immediate equipment delivery"`);
        }

        function pauseCampaign(id) {
            if(confirm('Pause this campaign?\n\nThis will stop all ad spending immediately. You can resume at any time.')) {
                alert('Campaign paused successfully');
            }
        }

        function viewAllCampaigns() {
            alert('All Campaigns (47 Total)\n\nActive: 12\nPaused: 8\nCompleted: 27\n\nTotal Lifetime Spend: $487,293\nTotal Conversions: 8,924\nAverage CPA: $54.62\nOverall ROI: 387%');
        }

        // Equipment Functions
        function addEquipment() {
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Add New Equipment';
            modalBody.innerHTML = `
                <h3>Equipment Registration</h3>
                <div style="margin-top: 20px;">
                    <input type="text" placeholder="Equipment ID" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <select style="width: 100%; padding: 10px; margin-bottom: 10px;">
                        <option>Generator</option>
                        <option>Pump</option>
                        <option>Air Compressor</option>
                        <option>Light Tower</option>
                    </select>
                    <input type="text" placeholder="Model/Specifications" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <input type="text" placeholder="Purchase Date" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <input type="text" placeholder="Location" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <button class="btn-primary" style="width: 100%;">Add to Fleet</button>
                </div>
            `;
            modal.classList.add('active');
        }

        function scheduleMaintenace() {
            alert('Maintenance Schedule\n\nUpcoming Maintenance:\n‚Ä¢ Sept 17: GEN-0234 - Annual service\n‚Ä¢ Sept 18: PMP-0567 - Filter replacement\n‚Ä¢ Sept 20: CMP-0891 - Oil change\n\n18 units scheduled this month\n\nAverage downtime: 4.2 hours');
        }

        function showEquipmentMetric(type) {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            const equipmentMetrics = {
                total: {
                    title: 'Total Fleet Inventory',
                    content: `
                        <h3>347 Total Units</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr><td>Generators (All Sizes)</td><td>57 units</td></tr>
                            <tr><td>Pumps (Various Types)</td><td>84 units</td></tr>
                            <tr><td>Air Compressors</td><td>42 units</td></tr>
                            <tr><td>Light Towers</td><td>28 units</td></tr>
                            <tr><td>HVAC Units</td><td>23 units</td></tr>
                            <tr><td>Welding Equipment</td><td>31 units</td></tr>
                            <tr><td>Power Distribution</td><td>47 units</td></tr>
                            <tr><td>Misc Equipment</td><td>35 units</td></tr>
                        </table>
                        <p style="margin-top: 20px;"><strong>Fleet Value:</strong> $8.7 million</p>
                        <p><strong>Average Age:</strong> 2.3 years</p>
                    `
                },
                deployed: {
                    title: 'Currently Deployed Equipment',
                    content: `
                        <h3>302 Units Deployed (87% Utilization)</h3>
                        <h4 style="margin-top: 20px;">Top Deployments:</h4>
                        <ul>
                            <li>Turner Construction: 23 units</li>
                            <li>City of Lafayette: 18 units</li>
                            <li>Chevron Facility: 15 units</li>
                            <li>Acme Construction: 12 units</li>
                        </ul>
                        <h4 style="margin-top: 20px;">By Duration:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>< 24 hours</td><td>47 units</td></tr>
                            <tr><td>1-7 days</td><td>134 units</td></tr>
                            <tr><td>1-4 weeks</td><td>89 units</td></tr>
                            <tr><td>> 1 month</td><td>32 units</td></tr>
                        </table>
                    `
                },
                maintenance: {
                    title: 'Maintenance Status',
                    content: `
                        <h3>18 Units in Maintenance</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr style="background: #f8fafc;">
                                <th style="padding: 8px;">Unit</th>
                                <th style="padding: 8px;">Type</th>
                                <th style="padding: 8px;">Service</th>
                                <th style="padding: 8px;">Complete</th>
                            </tr>
                            <tr><td>GEN-0234</td><td>Generator</td><td>Annual</td><td>Sept 17</td></tr>
                            <tr><td>PMP-0567</td><td>Pump</td><td>Filter</td><td>Sept 18</td></tr>
                            <tr><td>CMP-0891</td><td>Compressor</td><td>Oil</td><td>Sept 20</td></tr>
                            <tr><td>GEN-0445</td><td>Generator</td><td>Repair</td><td>Sept 16</td></tr>
                        </table>
                        <p style="margin-top: 20px;"><strong>Average Maintenance Time:</strong> 4.2 hours</p>
                        <p><strong>Maintenance Cost MTD:</strong> $12,847</p>
                    `
                },
                available: {
                    title: 'Available Equipment',
                    content: `
                        <h3>27 Units Ready to Deploy</h3>
                        <h4 style="margin-top: 20px;">Available Now:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>20-100kW Generators</td><td>3 units</td></tr>
                            <tr><td>100-500kW Generators</td><td>1 unit</td></tr>
                            <tr><td>Submersible Pumps</td><td>5 units</td></tr>
                            <tr><td>Trash Pumps</td><td>3 units</td></tr>
                            <tr><td>185-400 CFM Compressors</td><td>2 units</td></tr>
                            <tr><td>Light Towers</td><td>3 units</td></tr>
                            <tr><td>Other Equipment</td><td>10 units</td></tr>
                        </table>
                        <p style="margin-top: 20px;"><strong>Ready for immediate dispatch</strong></p>
                        <button class="btn-primary" style="margin-top: 10px;">Reserve Equipment</button>
                    `
                }
            };
            
            if (equipmentMetrics[type]) {
                modalTitle.textContent = equipmentMetrics[type].title;
                modalBody.innerHTML = equipmentMetrics[type].content;
                modal.classList.add('active');
            }
        }

        function viewEquipmentCategory(category) {
            alert(`${category.toUpperCase()} Inventory\n\nTotal Units: 57\nDeployed: 51\nAvailable: 4\nMaintenance: 2\n\nUtilization Rate: 89.5%\nRevenue This Month: $234,567\n\nTop Models:\n‚Ä¢ CAT 500kW - 12 units\n‚Ä¢ Cummins 350kW - 8 units\n‚Ä¢ Multiquip 100kW - 15 units`);
        }

        function viewEquipmentList(type) {
            alert(`Complete ${type.toUpperCase()} List\n\nShowing all units with:\n‚Ä¢ Serial numbers\n‚Ä¢ Current location\n‚Ä¢ Deployment status\n‚Ä¢ Maintenance history\n‚Ä¢ Revenue generated\n‚Ä¢ Next scheduled service\n\nExporting to Excel...`);
        }

        function viewDeployment(id) {
            alert(`Deployment Details\n\nEquipment: GEN-0457 (500kW Generator)\nClient: Turner Construction\nProject: Highway 90 Bridge Repair\n\nDeployment Time: 38 minutes\nSetup Time: 12 minutes\nEngineer: Mike Johnson\n\nDaily Rate: $850\nEstimated Revenue: $5,950\n\nNotes: Critical power for welding operations. 24/7 monitoring enabled.`);
        }

        function viewDeploymentHistory() {
            alert('Deployment History\n\nTotal Deployments (30 days): 847\n\nBy Type:\n‚Ä¢ Generators: 342\n‚Ä¢ Pumps: 267\n‚Ä¢ Compressors: 148\n‚Ä¢ Light Towers: 90\n\nAverage Duration: 4.7 days\nTotal Revenue: $847,293\n\nExporting full history...');
        }

        // Settings Functions
        function saveSettings() {
            alert('Settings Saved Successfully\n\n‚úÖ Agent configurations updated\n‚úÖ Integration settings saved\n‚úÖ Notification preferences applied\n\nChanges will take effect immediately.');
        }

        function toggleSetting(setting) {
            alert(`${setting.charAt(0).toUpperCase() + setting.slice(1)} Agent toggled\n\nNew status will apply to all future operations.`);
        }

        function configureIntegration(system) {
            const integrations = {
                crm: 'GoHighLevel CRM\n\nAPI Key: ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢3847\nSync Frequency: Real-time\nRecords Synced: 8,924\nLast Sync: 2 minutes ago',
                email: 'SendGrid Email Platform\n\nAPI Key: ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢7293\nMonthly Sends: 42,387\nOpen Rate: 42.3%\nDelivery Rate: 98.7%',
                analytics: 'Google Analytics 4\n\nProperty ID: G-ABC123XYZ\nEvents Tracked: 147,293\nConversion Goals: 12\nReal-time Users: 342',
                chat: 'Chatwoot Configuration\n\nStatus: Reconnection needed\nAgents: 12\nActive Conversations: 8\n\nClick to reconnect webhook...'
            };
            
            alert(`${system.toUpperCase()} Integration\n\n${integrations[system]}\n\nUpdate configuration?`);
        }

        // Agent-specific Functions
        function showAgentDetails(agentType, value) {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            const agentDetails = {
                response: {
                    title: 'Response Agent - 147 Interactions Today',
                    content: `
                        <h3>Interaction Breakdown</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr><td>Google Reviews Responded</td><td>42</td></tr>
                            <tr><td>Facebook Comments</td><td>38</td></tr>
                            <tr><td>LinkedIn Messages</td><td>27</td></tr>
                            <tr><td>Twitter Mentions</td><td>23</td></tr>
                            <tr><td>Email Inquiries</td><td>17</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">Response Time Analysis:</h4>
                        <ul>
                            <li>Average: 1.2 seconds</li>
                            <li>Fastest: 0.3 seconds</li>
                            <li>Slowest: 3.8 seconds</li>
                        </ul>
                        <h4 style="margin-top: 20px;">Sentiment Detected:</h4>
                        <ul>
                            <li>Positive: 89 (60.5%)</li>
                            <li>Neutral: 43 (29.3%)</li>
                            <li>Negative: 15 (10.2%)</li>
                        </ul>
                    `
                },
                content: {
                    title: 'Content Agent - 23 Posts Created Today',
                    content: `
                        <h3>Content Creation Breakdown</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr><td>LinkedIn Posts</td><td>6</td></tr>
                            <tr><td>Facebook Updates</td><td>5</td></tr>
                            <tr><td>Twitter Threads</td><td>4</td></tr>
                            <tr><td>Instagram Stories</td><td>3</td></tr>
                            <tr><td>Email Newsletters</td><td>3</td></tr>
                            <tr><td>Blog Articles</td><td>2</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">Content Performance:</h4>
                        <ul>
                            <li>Total Reach: 47,293 people</li>
                            <li>Engagements: 3,214</li>
                            <li>Shares: 423</li>
                            <li>Click-throughs: 892</li>
                        </ul>
                        <h4 style="margin-top: 20px;">Top Performing Post:</h4>
                        <p style="background: #f8fafc; padding: 10px; border-radius: 4px; margin-top: 10px;">
                            "Emergency response in 38 minutes saved Turner Construction's deadline. When equipment fails, we deliver." 
                            <br><strong>8,234 views | 423 engagements</strong>
                        </p>
                    `
                },
                ad: {
                    title: 'Ad Agent - $3,847 Spent Today',
                    content: `
                        <h3>Ad Spend Breakdown</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr style="background: #f8fafc;">
                                <th>Platform</th>
                                <th>Spend</th>
                                <th>Impressions</th>
                                <th>Clicks</th>
                                <th>CPC</th>
                            </tr>
                            <tr><td>Google Ads</td><td>$1,823</td><td>42,387</td><td>1,487</td><td>$1.23</td></tr>
                            <tr><td>Facebook</td><td>$1,234</td><td>38,924</td><td>892</td><td>$1.38</td></tr>
                            <tr><td>LinkedIn</td><td>$567</td><td>8,234</td><td>234</td><td>$2.42</td></tr>
                            <tr><td>Twitter</td><td>$223</td><td>12,847</td><td>423</td><td>$0.53</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">Performance Metrics:</h4>
                        <ul>
                            <li>Total Impressions: 102,392</li>
                            <li>Total Clicks: 3,036</li>
                            <li>Average CTR: 4.2%</li>
                            <li>Conversions: 127</li>
                            <li>Cost per Conversion: $30.29</li>
                        </ul>
                    `
                },
                optimization: {
                    title: 'Optimization Agent - Scheduled Tasks',
                    content: `
                        <h3>Optimization Schedule</h3>
                        <p><strong>Next Run:</strong> Tonight at 12:00 AM (in 8 hours 13 minutes)</p>
                        
                        <h4 style="margin-top: 20px;">Last Optimization (6 hours ago):</h4>
                        <ul>
                            <li>A/B Tests Completed: 12</li>
                            <li>Landing Page Variants: 4</li>
                            <li>Ad Copy Variations: 23</li>
                            <li>Bid Adjustments: 147</li>
                        </ul>
                        
                        <h4 style="margin-top: 20px;">Improvements Made:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>CTR Improvement</td><td>+0.8%</td></tr>
                            <tr><td>CPC Reduction</td><td>-$0.18</td></tr>
                            <tr><td>Conversion Rate</td><td>+2.3%</td></tr>
                            <tr><td>Quality Score</td><td>+1.2 points</td></tr>
                        </table>
                        
                        <h4 style="margin-top: 20px;">Queued for Next Run:</h4>
                        <ul>
                            <li>8 new ad variations to test</li>
                            <li>3 landing page elements</li>
                            <li>Keyword bid optimizations</li>
                        </ul>
                    `
                },
                chat: {
                    title: 'Chat Agent - 12 Active Conversations',
                    content: `
                        <h3>Current Conversations</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr style="background: #f8fafc;">
                                <th>Visitor</th>
                                <th>Topic</th>
                                <th>Duration</th>
                                <th>Status</th>
                            </tr>
                            <tr><td>John S.</td><td>Generator rental</td><td>3:42</td><td>üü¢ Active</td></tr>
                            <tr><td>Sarah M.</td><td>Emergency pump</td><td>2:18</td><td>üü¢ Active</td></tr>
                            <tr><td>Mike T.</td><td>Pricing inquiry</td><td>5:23</td><td>üü° Waiting</td></tr>
                            <tr><td>Lisa K.</td><td>Equipment specs</td><td>1:45</td><td>üü¢ Active</td></tr>
                            <tr><td>David R.</td><td>24/7 service</td><td>4:12</td><td>‚úÖ Resolved</td></tr>
                        </table>
                        
                        <h4 style="margin-top: 20px;">Resolution Statistics:</h4>
                        <ul>
                            <li>Average Resolution: 4.2 minutes</li>
                            <li>First Response: 8 seconds</li>
                            <li>Satisfaction Rate: 94.3%</li>
                            <li>Escalation Rate: 5.7%</li>
                        </ul>
                        
                        <h4 style="margin-top: 20px;">Common Topics Today:</h4>
                        <ul>
                            <li>Emergency rental process (4)</li>
                            <li>Equipment availability (3)</li>
                            <li>Pricing questions (3)</li>
                            <li>Technical specifications (2)</li>
                        </ul>
                    `
                },
                crm: {
                    title: 'CRM Sync Agent - 231 Records Synced',
                    content: `
                        <h3>Sync Activity Details</h3>
                        <table style="width: 100%; margin-top: 20px;">
                            <tr><td>New Leads Created</td><td>47</td></tr>
                            <tr><td>Contact Updates</td><td>89</td></tr>
                            <tr><td>Deal Progressions</td><td>34</td></tr>
                            <tr><td>Activity Logs</td><td>42</td></tr>
                            <tr><td>Custom Fields Updated</td><td>19</td></tr>
                        </table>
                        
                        <h4 style="margin-top: 20px;">Sync Performance:</h4>
                        <ul>
                            <li>Last Sync: 30 seconds ago</li>
                            <li>Sync Frequency: Every 30 seconds</li>
                            <li>Average Sync Time: 2.1 seconds</li>
                            <li>Success Rate: 99.7%</li>
                            <li>Failed Syncs Today: 1</li>
                        </ul>
                        
                        <h4 style="margin-top: 20px;">Data Flow:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>From Landing Page</td><td>47 leads</td></tr>
                            <tr><td>From Chat</td><td>12 conversations</td></tr>
                            <tr><td>From Email</td><td>23 responses</td></tr>
                            <tr><td>From Social</td><td>18 inquiries</td></tr>
                        </table>
                    `
                }
            };
            
            if (agentDetails[agentType]) {
                modalTitle.textContent = agentDetails[agentType].title;
                modalBody.innerHTML = agentDetails[agentType].content;
                modal.classList.add('active');
            }
        }

        function showAgentMetric(metricType, value) {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            event.stopPropagation();
            
            const metrics = {
                'response-interactions': {
                    title: '147 Interactions Detailed Analysis',
                    content: `
                        <h3>Today's 147 Interactions</h3>
                        <h4>Hourly Distribution:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>12 AM - 6 AM</td><td>8 interactions</td></tr>
                            <tr><td>6 AM - 9 AM</td><td>23 interactions</td></tr>
                            <tr><td>9 AM - 12 PM</td><td>42 interactions</td></tr>
                            <tr><td>12 PM - 3 PM</td><td>47 interactions</td></tr>
                            <tr><td>3 PM - 6 PM</td><td>27 interactions (current)</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">By Channel:</h4>
                        <ul>
                            <li>Reviews: 42 (28.6%)</li>
                            <li>Social Media: 88 (59.9%)</li>
                            <li>Direct Messages: 17 (11.6%)</li>
                        </ul>
                    `
                },
                'content-posts': {
                    title: '23 Posts Created - Detailed View',
                    content: `
                        <h3>Today's Content Production</h3>
                        <h4>Content Types:</h4>
                        <ul>
                            <li>Emergency Response Stories: 6</li>
                            <li>Equipment Tips: 5</li>
                            <li>Customer Success: 4</li>
                            <li>Industry News: 3</li>
                            <li>Team Highlights: 3</li>
                            <li>Safety Reminders: 2</li>
                        </ul>
                        <h4 style="margin-top: 20px;">Publishing Schedule:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Published</td><td>16 posts</td></tr>
                            <tr><td>Scheduled</td><td>7 posts</td></tr>
                            <tr><td>In Review</td><td>0 posts</td></tr>
                        </table>
                    `
                },
                'ad-spend': {
                    title: '$3,847 Ad Spend Analysis',
                    content: `
                        <h3>Today's $3,847 Investment</h3>
                        <h4>ROI Calculation:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Spend</td><td>$3,847</td></tr>
                            <tr><td>Revenue Generated</td><td>$18,234</td></tr>
                            <tr><td>ROI</td><td>374%</td></tr>
                            <tr><td>Profit</td><td>$14,387</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">Best Performing Ads:</h4>
                        <ul>
                            <li>"24/7 Emergency" - $823 spend, 42 conversions</li>
                            <li>"Hurricane Ready" - $567 spend, 31 conversions</li>
                            <li>"Fast Response" - $445 spend, 28 conversions</li>
                        </ul>
                    `
                },
                'chat-conversations': {
                    title: '12 Active Conversations',
                    content: `
                        <h3>Live Chat Sessions</h3>
                        <h4>Conversation Topics:</h4>
                        <ul>
                            <li>Emergency rentals: 4 chats</li>
                            <li>Pricing inquiries: 3 chats</li>
                            <li>Equipment availability: 3 chats</li>
                            <li>Technical support: 2 chats</li>
                        </ul>
                        <h4 style="margin-top: 20px;">Visitor Sources:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>Direct</td><td>5 visitors</td></tr>
                            <tr><td>Google Ads</td><td>4 visitors</td></tr>
                            <tr><td>Organic Search</td><td>2 visitors</td></tr>
                            <tr><td>Social Media</td><td>1 visitor</td></tr>
                        </table>
                    `
                },
                'crm-records': {
                    title: '231 Records Synced Details',
                    content: `
                        <h3>CRM Synchronization Report</h3>
                        <h4>Record Types:</h4>
                        <table style="width: 100%; margin-top: 10px;">
                            <tr><td>New Contacts</td><td>47</td></tr>
                            <tr><td>Updated Contacts</td><td>89</td></tr>
                            <tr><td>New Deals</td><td>34</td></tr>
                            <tr><td>Deal Updates</td><td>42</td></tr>
                            <tr><td>Activities Logged</td><td>19</td></tr>
                        </table>
                        <h4 style="margin-top: 20px;">Sync Sources:</h4>
                        <ul>
                            <li>Landing Page Forms: 67 records</li>
                            <li>Chat Conversations: 48 records</li>
                            <li>Email Responses: 62 records</li>
                            <li>Phone Calls: 54 records</li>
                        </ul>
                    `
                }
            };
            
            if (metrics[metricType]) {
                modalTitle.textContent = metrics[metricType].title;
                modalBody.innerHTML = metrics[metricType].content;
                modal.classList.add('active');
            }
        }

        function showLastAction(agent) {
            event.stopPropagation();
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Last Action Details';
            modalBody.innerHTML = `
                <h3>Response Agent - Last Action</h3>
                <p><strong>Time:</strong> 3 minutes ago (3:44 PM)</p>
                <p><strong>Platform:</strong> Google Reviews</p>
                <p><strong>Reviewer:</strong> John Martinez - Turner Construction</p>
                
                <h4 style="margin-top: 20px;">Original Review (5 stars):</h4>
                <p style="background: #f8fafc; padding: 15px; border-radius: 8px;">
                    "GOA Rentals saved our project! Generator failed at 2 AM and they had a replacement running by 2:45 AM. 
                    Incredible service and the technician really knew his stuff. Will definitely use again."
                </p>
                
                <h4 style="margin-top: 20px;">Agent Response:</h4>
                <p style="background: #f0fdf4; padding: 15px; border-radius: 8px;">
                    "Thank you John! We're thrilled we could help Turner Construction meet their deadline. 
                    Our 24/7 emergency response team is always ready. We look forward to serving you again!"
                </p>
                
                <p style="margin-top: 20px;"><strong>Response Time:</strong> 1.2 seconds</p>
                <p><strong>Sentiment Detected:</strong> Very Positive</p>
                <p><strong>Keywords Triggered:</strong> saved, emergency, 24/7</p>
            `;
            modal.classList.add('active');
        }

        function showSchedule(agent) {
            event.stopPropagation();
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Content Publishing Schedule';
            modalBody.innerHTML = `
                <h3>Next Scheduled Post - 4:00 PM</h3>
                <p><strong>Platform:</strong> LinkedIn</p>
                <p><strong>Persona:</strong> Construction Manager</p>
                
                <h4 style="margin-top: 20px;">Post Content:</h4>
                <div style="background: #f8fafc; padding: 15px; border-radius: 8px;">
                    <p><strong>üöß Project Delays Cost Thousands Per Hour</strong></p>
                    <p style="margin-top: 10px;">
                        When your generator fails at 2 AM, you need more than equipment - you need a partner who understands urgency.
                    </p>
                    <p style="margin-top: 10px;">
                        Last night, we helped Turner Construction avoid a complete shutdown with a 45-minute response time.
                    </p>
                    <p style="margin-top: 10px;">
                        ‚úÖ 24/7 Emergency Response<br>
                        ‚úÖ Expert Engineers On-Site<br>
                        ‚úÖ Equipment + Knowledge + Speed
                    </p>
                    <p style="margin-top: 10px;">
                        Don't wait for an emergency. Save our hotline: 1-800-GOA-FAST
                    </p>
                    <p style="margin-top: 10px;">
                        #ConstructionLife #EmergencyResponse #EquipmentRental #Lafayette
                    </p>
                </div>
                
                <h4 style="margin-top: 20px;">Upcoming Schedule:</h4>
                <table style="width: 100%; margin-top: 10px;">
                    <tr><td>4:00 PM</td><td>LinkedIn</td><td>Construction Story</td></tr>
                    <tr><td>6:00 PM</td><td>Facebook</td><td>Equipment Tip</td></tr>
                    <tr><td>8:00 PM</td><td>Twitter</td><td>Industry News</td></tr>
                </table>
            `;
            modal.classList.add('active');
        }

        function showCTRDetails(ctr) {
            event.stopPropagation();
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Click-Through Rate Analysis';
            modalBody.innerHTML = `
                <h3>4.2% CTR Performance</h3>
                <p>Industry Average: 2.8% (You're <span style="color: var(--success);">+50% above average</span>)</p>
                
                <h4 style="margin-top: 20px;">CTR by Platform:</h4>
                <table style="width: 100%; margin-top: 10px;">
                    <tr><td>Google Search</td><td>5.8%</td><td>üü¢ Excellent</td></tr>
                    <tr><td>Google Display</td><td>2.3%</td><td>üü° Good</td></tr>
                    <tr><td>Facebook</td><td>3.9%</td><td>üü¢ Very Good</td></tr>
                    <tr><td>LinkedIn</td><td>4.2%</td><td>üü¢ Very Good</td></tr>
                </table>
                
                <h4 style="margin-top: 20px;">Best Performing Ad Copy:</h4>
                <ul>
                    <li>"Equipment Down? We're Up in 45 Min" - 7.2% CTR</li>
                    <li>"24/7 Emergency Equipment Rental" - 6.8% CTR</li>
                    <li>"Don't Let Downtime Stop You" - 5.9% CTR</li>
                </ul>
                
                <h4 style="margin-top: 20px;">Improvement Opportunities:</h4>
                <ul>
                    <li>Test urgency-based headlines (+15% potential)</li>
                    <li>Add location extensions (+8% potential)</li>
                    <li>Include pricing in ad copy (+12% potential)</li>
                </ul>
            `;
            modal.classList.add('active');
        }

        function showCPCDetails(cpc) {
            event.stopPropagation();
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Cost Per Click Analysis';
            modalBody.innerHTML = `
                <h3>$1.23 Average CPC</h3>
                <p>Industry Average: $1.87 (You're <span style="color: var(--success);">34% below average</span>)</p>
                
                <h4 style="margin-top: 20px;">CPC by Keyword Category:</h4>
                <table style="width: 100%; margin-top: 10px;">
                    <tr><td>"emergency equipment rental"</td><td>$2.34</td><td>High value</td></tr>
                    <tr><td>"generator rental lafayette"</td><td>$1.87</td><td>Local intent</td></tr>
                    <tr><td>"24 hour equipment"</td><td>$1.23</td><td>Urgency</td></tr>
                    <tr><td>"pump rental near me"</td><td>$0.89</td><td>Low competition</td></tr>
                </table>
                
                <h4 style="margin-top: 20px;">CPC Optimization Results:</h4>
                <ul>
                    <li>Bid adjustments saved $0.18/click</li>
                    <li>Negative keywords reduced waste by 23%</li>
                    <li>Quality Score improvements: -$0.31/click</li>
                </ul>
                
                <h4 style="margin-top: 20px;">Cost Efficiency:</h4>
                <p>Today's Performance: 3,036 clicks √ó $1.23 = $3,734 spent</p>
                <p>Conversions: 127 √ó $29.41 average CPA</p>
                <p><strong>ROI: 374%</strong></p>
            `;
            modal.classList.add('active');
        }

        function showOptimizationSchedule() {
            event.stopPropagation();
            alert('Optimization Schedule\n\nNext Run: 12:00 AM (in 8 hours)\n\nScheduled Tasks:\n‚Ä¢ A/B test analysis\n‚Ä¢ Bid optimization\n‚Ä¢ Keyword expansion\n‚Ä¢ Negative keyword updates\n‚Ä¢ Landing page variants\n‚Ä¢ Ad rotation optimization');
        }

        function showLastOptimization(hours) {
            event.stopPropagation();
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Last Optimization Report';
            modalBody.innerHTML = `
                <h3>Optimization Run - 6 Hours Ago</h3>
                <p><strong>Completed:</strong> Sept 15, 2025 at 9:47 AM</p>
                <p><strong>Duration:</strong> 5 minutes 42 seconds</p>
                
                <h4 style="margin-top: 20px;">Changes Implemented:</h4>
                <table style="width: 100%; margin-top: 10px;">
                    <tr><td>Bid Adjustments</td><td>147 changes</td></tr>
                    <tr><td>Paused Poor Performers</td><td>23 keywords</td></tr>
                    <tr><td>Added Negative Keywords</td><td>18 terms</td></tr>
                    <tr><td>Landing Page Winner</td><td>Variant B (+2.3% CVR)</td></tr>
                    <tr><td>Ad Copy Winner</td><td>Urgency theme (+18% CTR)</td></tr>
                </table>
                
                <h4 style="margin-top: 20px;">Performance Impact:</h4>
                <ul>
                    <li>CPC reduced from $1.41 to $1.23</li>
                    <li>CTR increased from 3.4% to 4.2%</li>
                    <li>Conversion rate up 2.3%</li>
                    <li>Quality Score improved by 1.2 points</li>
                </ul>
                
                <h4 style="margin-top: 20px;">Next Optimization Focus:</h4>
                <ul>
                    <li>Test new emergency-focused headlines</li>
                    <li>Expand successful keyword themes</li>
                    <li>Implement dayparting adjustments</li>
                </ul>
            `;
            modal.classList.add('active');
        }

        function showResolutionDetails(minutes) {
            event.stopPropagation();
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Chat Resolution Time Analysis';
            modalBody.innerHTML = `
                <h3>4.2 Minutes Average Resolution</h3>
                <p>Industry Benchmark: 7.8 minutes (You're <span style="color: var(--success);">46% faster</span>)</p>
                
                <h4 style="margin-top: 20px;">Resolution Time Breakdown:</h4>
                <table style="width: 100%; margin-top: 10px;">
                    <tr><td>< 2 minutes</td><td>4 chats</td><td>33%</td></tr>
                    <tr><td>2-5 minutes</td><td>5 chats</td><td>42%</td></tr>
                    <tr><td>5-10 minutes</td><td>2 chats</td><td>17%</td></tr>
                    <tr><td>> 10 minutes</td><td>1 chat</td><td>8%</td></tr>
                </table>
                
                <h4 style="margin-top: 20px;">Quick Resolution Factors:</h4>
                <ul>
                    <li>AI instant answers: 78% of queries</li>
                    <li>Equipment database integration</li>
                    <li>Pricing calculator built-in</li>
                    <li>Direct scheduling capability</li>
                </ul>
                
                <h4 style="margin-top: 20px;">Customer Satisfaction:</h4>
                <ul>
                    <li>Rating: 4.8/5.0 stars</li>
                    <li>Would recommend: 94%</li>
                    <li>Issue resolved: 97%</li>
                </ul>
            `;
            modal.classList.add('active');
        }

        function showSyncDetails() {
            event.stopPropagation();
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Last CRM Sync Details';
            modalBody.innerHTML = `
                <h3>Sync Completed 30 Seconds Ago</h3>
                <p><strong>Sync ID:</strong> SYNC-2025-09-15-154730</p>
                <p><strong>Duration:</strong> 2.1 seconds</p>
                <p><strong>Status:</strong> <span style="color: var(--success);">‚úÖ Successful</span></p>
                
                <h4 style="margin-top: 20px;">Records Processed:</h4>
                <table style="width: 100%; margin-top: 10px;">
                    <tr><td>New Lead (Turner Construction)</td><td>Created</td></tr>
                    <tr><td>John Martinez contact</td><td>Updated</td></tr>
                    <tr><td>Deal #4823</td><td>Stage changed</td></tr>
                    <tr><td>Chat transcript #892</td><td>Attached</td></tr>
                    <tr><td>Email response logged</td><td>Activity created</td></tr>
                </table>
                
                <h4 style="margin-top: 20px;">Next Sync:</h4>
                <p>Scheduled in 30 seconds (Real-time sync active)</p>
                
                <h4 style="margin-top: 20px;">Today's Sync Statistics:</h4>
                <ul>
                    <li>Total Syncs: 2,880</li>
                    <li>Success Rate: 99.7%</li>
                    <li>Failed Syncs: 8</li>
                    <li>Data Transferred: 847 MB</li>
                </ul>
            `;
            modal.classList.add('active');
        }

        function showAgentPerformance(agent) {
            const modal = document.getElementById('metricModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            const performance = {
                response: {
                    title: 'Response Agent Performance',
                    uptime: '99.8%',
                    tasks: '1,247',
                    success: '98.2%',
                    time: '1.2s',
                    details: `
                        <h4>Task Breakdown (1,247 total):</h4>
                        <ul>
                            <li>Review responses: 423</li>
                            <li>Social media replies: 387</li>
                            <li>Email autoresponders: 234</li>
                            <li>Comment moderation: 203</li>
                        </ul>
                        <h4 style="margin-top: 20px;">Performance Metrics:</h4>
                        <ul>
                            <li>Fastest response: 0.3 seconds</li>
                            <li>Slowest response: 4.8 seconds</li>
                            <li>Errors today: 22 (1.8%)</li>
                            <li>Retries successful: 20/22</li>
                        </ul>
                    `
                },
                content: {
                    title: 'Content Agent Performance',
                    uptime: '100%',
                    tasks: '423',
                    success: '100%',
                    time: '8.4s',
                    details: `
                        <h4>Content Created (423 pieces):</h4>
                        <ul>
                            <li>Social posts: 234</li>
                            <li>Email campaigns: 89</li>
                            <li>Blog articles: 47</li>
                            <li>Ad variations: 53</li>
                        </ul>
                        <h4 style="margin-top: 20px;">Quality Metrics:</h4>
                        <ul>
                            <li>Engagement rate: 6.8%</li>
                            <li>Share rate: 2.3%</li>
                            <li>Click rate: 4.2%</li>
                            <li>Conversion rate: 1.8%</li>
                        </ul>
                    `
                },
                chat: {
                    title: 'Chat Agent Performance',
                    uptime: '99.9%',
                    tasks: '892',
                    success: '94.3%',
                    time: '252s',
                    details: `
                        <h4>Conversations Handled (892):</h4>
                        <ul>
                            <li>Fully automated: 634 (71%)</li>
                            <li>Human handoff: 51 (5.7%)</li>
                            <li>Hybrid assistance: 207 (23.2%)</li>
                        </ul>
                        <h4 style="margin-top: 20px;">Resolution Quality:</h4>
                        <ul>
                            <li>First contact resolution: 78%</li>
                            <li>Customer satisfaction: 4.8/5</li>
                            <li>Average messages: 4.2</li>
                            <li>Escalation rate: 5.7%</li>
                        </ul>
                    `
                }
            };
            
            const data = performance[agent] || performance.response;
            modalTitle.textContent = data.title;
            modalBody.innerHTML = `
                <h3>Detailed Performance Metrics</h3>
                <table style="width: 100%; margin-top: 20px;">
                    <tr><td>Uptime</td><td>${data.uptime}</td></tr>
                    <tr><td>Tasks Completed</td><td>${data.tasks}</td></tr>
                    <tr><td>Success Rate</td><td>${data.success}</td></tr>
                    <tr><td>Avg Processing Time</td><td>${data.time}</td></tr>
                </table>
                ${data.details}
            `;
            modal.classList.add('active');
        }

        function viewDetailedMetrics() {
            const modal = document.getElementById('metricModal');
            modalTitle = document.getElementById('modalTitle');
            modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'Complete Agent Performance Report';
            modalBody.innerHTML = `
                <h3>All Agents Performance Summary</h3>
                <h4 style="margin-top: 20px;">System Overview:</h4>
                <ul>
                    <li>Total Tasks Today: 15,258</li>
                    <li>System Uptime: 99.87%</li>
                    <li>Average Success Rate: 97.8%</li>
                    <li>Total Value Generated: $47,234</li>
                </ul>
                
                <h4 style="margin-top: 20px;">Agent Rankings:</h4>
                <table style="width: 100%; margin-top: 10px;">
                    <tr style="background: #f8fafc;">
                        <th>Agent</th>
                        <th>Efficiency</th>
                        <th>Value</th>
                        <th>Grade</th>
                    </tr>
                    <tr><td>CRM Sync</td><td>99.7%</td><td>Critical</td><td>A+</td></tr>
                    <tr><td>Response</td><td>98.2%</td><td>High</td><td>A</td></tr>
                    <tr><td>Content</td><td>100%</td><td>High</td><td>A+</td></tr>
                    <tr><td>Ad</td><td>96.8%</td><td>$18,234 ROI</td><td>A</td></tr>
                    <tr><td>Chat</td><td>94.3%</td><td>High</td><td>B+</td></tr>
                    <tr><td>Optimization</td><td>100%</td><td>High</td><td>A+</td></tr>
                </table>
                
                <button class="btn-primary" style="margin-top: 20px;">Export Full Report</button>
            `;
            modal.classList.add('active');
        }

        function showUptimeDetails() {
            alert('System Uptime Analysis\n\nCurrent Uptime: 99.87%\nDowntime Today: 11 minutes\nLast Incident: 6:23 AM (scheduled maintenance)\n\nMonthly Target: 99.9%\nStatus: On Track ‚úÖ');
        }

        function showTaskDetails() {
            alert('Tasks Completed Overview\n\nTotal Today: 15,258 tasks\n\nBy Agent:\n‚Ä¢ CRM Sync: 8,924\n‚Ä¢ Ad Agent: 3,847\n‚Ä¢ Response: 1,247\n‚Ä¢ Chat: 892\n‚Ä¢ Content: 423\n‚Ä¢ Optimization: 48\n\nPeak Hour: 2:00 PM (1,847 tasks)');
        }

        function showSuccessRateDetails() {
            alert('Success Rate Analysis\n\nOverall Success: 97.8%\n\nFailure Causes:\n‚Ä¢ API timeouts: 147 (1.2%)\n‚Ä¢ Invalid data: 89 (0.7%)\n‚Ä¢ Rate limits: 43 (0.3%)\n\nRecovery Rate: 92% of failures auto-resolved');
        }

        function showProcessingTimeDetails() {
            alert('Processing Time Metrics\n\nFastest: Optimization Agent (0.8s avg)\nSlowest: Chat Agent (252s avg)\n\nOptimization Opportunities:\n‚Ä¢ Cache frequent queries\n‚Ä¢ Batch process CRM syncs\n‚Ä¢ Pre-generate content variations');
        }

        // Simulate real-time updates
        setInterval(() => {
            // Update random metrics
            const metrics = document.querySelectorAll('.metric-value');
            if (Math.random() > 0.8 && metrics.length > 0) {
                const randomMetric = metrics[Math.floor(Math.random() * metrics.length)];
                const currentValue = randomMetric.textContent;
                
                // Animate value change
                randomMetric.style.color = '#f59e0b';
                setTimeout(() => {
                    randomMetric.style.color = 'var(--goa-dark)';
                }, 1000);
            }
        }, 5000);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            console.log('GOA MarOS Management Dashboard Initialized');
            console.log('Version: 2.0 | Status: All Systems Operational');
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('metricModal');
            if (event.target == modal) {
                modal.classList.remove('active');
            }
        }
    </script>
</body>
</html>